/*! For license information please see the-darkest-lib.min.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("phaser")):"function"==typeof define&&define.amd?define("TDLib",["phaser"],e):"object"==typeof exports?exports.TDLib=e(require("phaser")):t.TDLib=e(t.phaser)}(self,(function(t){return(()=>{var e={8908:(t,e,o)=>{"use strict";var n=i(o(3087)),r=i(o(1487));function i(t){return t&&t.__esModule?t:{default:t}}var a={Components:o(5582),Game:o(8806),Managers:o(201),Rooms:o(944),Settings:o(222),Sprites:o(8886),Systems:o(9162),Utils:o(1899)};a=r.default.Utils.Objects.Extend(!1,a,n.default),t.exports=a,o.g.TDLib=a},3236:(t,e,o)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(o(1487)),r=i(o(222));function i(t){return t&&t.__esModule?t:{default:t}}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"Boot"))}var o,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,t),o=e,(n=[{key:"preload",value:function(){}},{key:"create",value:function(){console.log("Booting all game systems..."),this.cursors.configure(r.default.GAME.scene),this.rooms.configure(r.default.GAME.scene),this.rooms.start(r.default.STARTING_ROOM)}}])&&u(o.prototype,n),e}(n.default.Scene);e.default=f,t.exports=e.default},3792:(t,e,o)=>{var n=o(3087),r=o(222);t.exports=function(t){var e=t.config;e.bannerBackgroundColor="#0002e6",e.bannerTextColor="#ffffff",e.hidePhaser=!1;var o="WebGL";2!==e.renderType&&(o="NULL");var i,a=e.audio,u=t.device.audio;if(i=!u.webAudio||a&&a.disableWebAudio?a&&a.noAudio||!u.webAudio&&!u.audioData?"No Audio":"HTML5 Audio":"Web Audio",!t.device.browser.ie){var c,f="",s=[f];Array.isArray(e.bannerBackgroundColor)?(e.bannerBackgroundColor.forEach((function(t){f=f.concat("%c "),s.push("background: "+t),c=t})),s[s.length-1]="color: "+e.bannerTextColor+"; background: "+c):(f=f.concat("%c "),s.push("color: "+e.bannerTextColor+"; background: "+e.bannerBackgroundColor)),s.push("background: #fff"),e.gameTitle&&(f=f.concat(e.gameTitle),e.gameVersion&&(f=f.concat(" v"+e.gameVersion)),e.hidePhaser||(f=f.concat(" / "))),e.hidePhaser||(f=(f=f.concat("TDLib v"+n.VERSION+" / Phaser v"+n.PHASER_VERSION)).concat(" ("+o+" | "+i+" | "+r.DEVICE+")")),f=f.concat(" %c "+e.gameURL),s[0]=f,console.log.apply(console,s)}}},8806:(t,e,o)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=l(o(222)),r=l(o(3792)),i=l(o(1899)),a=l(o(201)),u=l(o(9162)),c=l(o(3236)),f=l(o(1487)),s=l(o(2806));function l(t){return t&&t.__esModule?t:{default:t}}function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var h=function(){function t(e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.config=e,this._setScreenConfig(),this._setPhysicsConfig(),this._setPlugins(),this._setBoot(),this._setHeaderProps(),this._finalizeConfig(),n.default.STARTING_ROOM=this.config.startingRoom,n.default.GAME_SPRITES=this._setGameSprites(f.default.Utils.Objects.Clone(this.config.sprites)),n.default.GAME=new f.default.Game(this.config),(0,r.default)(n.default.GAME),n.default.GAME}var e,o;return e=t,(o=[{key:"_setScreenConfig",value:function(){n.default.SCREEN_PROPS=i.default.getScreenProps(),this.config.width=n.default.SCREEN_PROPS.calculatedWidth,this.config.height=n.default.SCREEN_PROPS.calculatedHeight,this.config.zoom=n.default.SCREEN_PROPS.calculatedZoom,this.config.autoResize=!1,this.config.backgroundColor="#000000",this.config.pixelArt=!0}},{key:"_setPhysicsConfig",value:function(){this.config.physics={default:"arcade",arcade:{debug:!1,gravity:{y:0,x:0}}}}},{key:"_setPlugins",value:function(){this.config.plugins={global:[{key:"RoomSystem",plugin:u.default.RoomSystem,start:!1,mapping:"rooms"},{key:"CursorSystem",plugin:u.default.CursorSystem,start:!1,mapping:"cursors"}],scene:[{key:"UpdateManager",plugin:a.default.UpdateManager,mapping:"updates"},{key:"LightSourceManager",plugin:a.default.LightSourceManager,mapping:"lightSources"},{key:"LayerManager",plugin:a.default.LayerManager,mapping:"layers"}]}}},{key:"_setBoot",value:function(){this.config.scene=[c.default]}},{key:"_setHeaderProps",value:function(){this.config.banner=!1}},{key:"_setGameSprites",value:function(t){if(r=!1,Object.keys((0,s.default)(t,(function(t,e){return"object"==p(e)&&"function"!=typeof e.default&&Object.keys(e).length>0}))).length>0&&(r=!0),r){var e=(0,s.default)(t,(function(t,e){return"object"==p(e)&&"function"!=typeof e.default})),o=function(t){var e=[];for(var o in t)e.push(t[o]);return e}(e);for(var n in o.forEach((function(e){t=f.default.Utils.Objects.Extend(!1,t,e)})),e)delete t[n];return this._setGameSprites(t)}var r;return t}},{key:"_finalizeConfig",value:function(){this.config.type=f.default.WEBGL,this.config.maxLights=20,this.config.parent="game",this.config.disableContextMenu=!0}}])&&y(e.prototype,o),t}();e.default=h,t.exports=e.default},222:t=>{t.exports={GAME:"",TILE_SIZE:48,ROOM_HEIGHT_IN_TILE:6,INVENTORY_WIDTH_IN_TILES_MOBILE:1.25,INVENTORY_WIDTH_IN_TILES_DESKTOP:0,INVENTORY_HEIGHT_IN_TILES_MOBILE:0,INVENTORY_HEIGHT_IN_TILES_DESKTOP:1,ROOM_FRAME_IN_TILES_DESKTOP:.5,ROOM_FRAME_IN_TILES_MOBILE:.25,SCREEN_PROPS:{},DEVICE:"Desktop",STARTING_ROOM:null,GAME_SPRITES:null}},4780:(t,e,o)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(o(2664)),r=i(o(251));function i(t){return t&&t.__esModule?t:{default:t}}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f=function(t){function e(t){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(o=function(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))).gameObject=t,o.defaultAction=new r.default.Idle(o,o.gameObject),o._queue=[o.defaultAction],o._queue[0]._start(),o}var o,n,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,t),o=e,i=[{key:"DEFAULT_MODE",get:function(){return 0}},{key:"QUEUE_MODE",get:function(){return 1}},{key:"PAUSE_MODE",get:function(){return 2}}],(n=[{key:"add",value:function(t,o){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.DEFAULT_MODE,r=new t(this,this.gameObject,o);switch(n){case e.DEFAULT_MODE:this._queue[0]._abort(),this._queue=[],this._queue.push(r),this._queue[0]._start();break;case e.QUEUE_MODE:this._queue.push(r);break;case e.PAUSE_MODE:this._queue[0]._pause(),this._queue.unshift(r),this._queue[0]._start()}return r}},{key:"_remove",value:function(){this._queue.shift(),this._queue.length<=0&&this._queue.push(this.defaultAction),this._queue[0].isPaused?this._queue[0]._resume():this._queue[0]._start()}},{key:"_update",value:function(){this._queue.length<=0?this._queue.push(this.defaultAction):this._queue.length>1&&"Idle"===this._queue[0].name&&(this._queue.shift(),this._queue[0].isPaused?this._queue[0]._resume():this._queue[0]._start()),this._queue[0]._update()}}])&&u(o.prototype,n),i&&u(o,i),e}(n.default);e.default=f,t.exports=e.default},2592:(t,e,o)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(o(2664)),r=i(o(2763));function i(t){return t&&t.__esModule?t:{default:t}}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f=function(t){function e(t,o,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=function(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))).player,void 0===r.gameObject.room.player?r.player=r.gameObject:r.player=r.gameObject.room.player,r.type=o,r.pixelPerfect=n,r._addBehaviours(),r}var o,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,t),o=e,(n=[{key:"_addBehaviours",value:function(){this.type!==r.default.EXAMINABLE&&this.type!==r.default.INTERACTIVE||(this.observe=new r.default.Observable(this),this.type===r.default.EXAMINABLE?this.examine=new r.default.Examinable(this):this.type===r.default.INTERACTIVE&&(this.interact=new r.default.Interactive(this)))}}])&&u(o.prototype,n),e}(n.default);e.default=f,t.exports=e.default},2664:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.default=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.name=this.constructor.name,this.gameObject=e},t.exports=e.default},2295:(t,e,o)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(o(2664)),r=a(o(204)),i=a(o(5740));function a(t){return t&&t.__esModule?t:{default:t}}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=function(t){function e(t){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(o=function(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))).previousEffects=[],o.currentEffect=null,o}var o,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,t),o=e,(n=[{key:"play",value:function(t){var e=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=arguments[2];this.currentEffect&&this.stop(),t in r.default?this.currentEffect=new r.default[t](this,n):t in r.default.LightEffects?this.gameObject instanceof i.default?this.currentEffect=new r.default.LightEffects[t](this,n):console.log(t+" can only be run by a LightSource"):console.log("No effect with key: ",t),this.currentEffect&&this.currentEffect.play(),o>0?(this.timer=this.gameObject.room.time.addEvent({delay:o,callback:function(){e.stop()},callbackScope:this,repeat:0}),console.log(this.currentEffect.name+"Effect started for",o,"ms")):-1===o?console.log(this.currentEffect.name+"Effect started"):console.log("You must use a positive value!")}},{key:"stop",value:function(){this.currentEffect&&(this.timer&&(this.timer.remove(),this.timer=null),this.previousEffects.push(this.currentEffect),this.currentEffect.stop(),console.log(this.currentEffect.name+"Effect stopped"),this.currentEffect=null,console.log(this.previousEffects))}}])&&c(o.prototype,n),e}(n.default);e.default=s,t.exports=e.default},5582:(t,e,o)=>{var n={Component:o(2664),ActionComponent:o(4780),BehaviourComponent:o(2592),EffectComponent:o(2295)};t.exports=n},3087:(t,e,o)=>{"use strict";var n,r=(n=o(1487))&&n.__esModule?n:{default:n},i={VERSION:o(306).i8,PHASER_VERSION:r.default.VERSION,LEFT:"_left",RIGHT:"_right"};t.exports=i},3943:(t,e,o)=>{"use strict";var n;function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=function(t){function e(t,o){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,o))).room=t,n}var o,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(e,t),o=e,(n=[{key:"boot",value:function(){}}])&&i(o.prototype,n),e}(((n=o(1487))&&n.__esModule?n:{default:n}).default.Plugins.ScenePlugin);e.default=u,t.exports=e.default},201:(t,e,o)=>{var n={LayerManager:o(3776),LightSourceManager:o(4176),Manager:o(3943),UpdateManager:o(3799)};t.exports=n},3776:(t,e,o)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(o(3943)),r=i(o(8783));function i(t){return t&&t.__esModule?t:{default:t}}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function c(t,e,o){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,o){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(o):r.value}})(t,e,o||t)}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=function(t){function e(t,o){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,o))).layerSize=r.default.layerSize,n.strartingDepth=r.default.startingDepth,n}var o,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,t),o=e,(n=[{key:"boot",value:function(){c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"boot",this).call(this),this.backgroundLayer=this.room.add.group(),this.rearDoorsLayer=this.room.add.group(),this.wallFurnitureLayer=this.room.add.group(),this.roomFurnitureLayer=this.room.add.group(),this.sideDoorsLayer=this.room.add.group(),this.npcLayer=this.room.add.group(),this.playerLayer=this.room.add.group(),this.cielingObjectsLayer=this.room.add.group(),this.frontDoorsLayer=this.room.add.group(),this.wallsLayer=this.room.add.group(),this.wallsMaskLayer=this.room.add.group(),this.overallDarknessLayer=this.room.add.group(),this.borderMasksLayer=this.room.add.group()}},{key:"setLayersDepth",value:function(){var t=this.strartingDepth;this.backgroundLayer.setDepth(this.layerSize*t),t++,this.rearDoorsLayer.setDepth(this.layerSize*t),t++,this.wallFurnitureLayer.setDepth(this.layerSize*t),t++,this.roomFurnitureLayer.setDepth(this.layerSize*t),t++,this.sideDoorsLayer.setDepth(this.layerSize*t),t++,this.npcLayer.setDepth(this.layerSize*t),t++,this.playerLayer.setDepth(this.layerSize*t),t++,this.cielingObjectsLayer.setDepth(this.layerSize*t),t++,this.frontDoorsLayer.setDepth(this.layerSize*t),t++,this.wallsLayer.setDepth(this.layerSize*t),t++,this.wallsMaskLayer.setDepth(this.layerSize*t),t++,this.overallDarknessLayer.setDepth(this.layerSize*t),t++,this.borderMasksLayer.setDepth(this.layerSize*t),t++}}])&&u(o.prototype,n),e}(n.default);e.default=l,t.exports=e.default},8783:t=>{t.exports={layerSize:10,startingDepth:0}},4176:(t,e,o)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(o(3943)),r=i(o(222));function i(t){return t&&t.__esModule?t:{default:t}}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function c(t,e,o){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,o){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(o):r.value}})(t,e,o||t)}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=function(t){function e(t,o){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,o))).graphicLights=[],n.diffusedLights=[],n}var o,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,t),o=e,(n=[{key:"boot",value:function(){c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"boot",this).call(this),this.lightSources=this.room.add.group()}},{key:"add",value:function(t){return this.lightSources.add(t,!0),this.lightSources.getChildren().forEach((function(t){t.setPipeline("Light2D")})),t}},{key:"calculateLightsContribuitePoint",value:function(t){var e=0;return this.lightSources.getChildren().forEach((function(o){if(o.isOn){var n=o.config.diffusedLight.intensity/(2^Math.abs(o.x+o.config.offset.x-t.x));o.effects.currentEffect&&(n*=o.effects.currentEffect.contributeFactor),e+=n}})),Math.floor(1e4*e)/1e3}},{key:"calculateAverageLightsContribute",value:function(){var t=0;this.diffusedLights.forEach((function(e){t+=e.intensity}));var e=0;return 0!==t&&(e=Math.floor(1e4*t/this.room.layers.wallsLayer.width/r.default.TILE_SIZE*100)/100+.3),e}}])&&u(o.prototype,n),e}(n.default);e.default=l,t.exports=e.default},3799:(t,e,o)=>{"use strict";var n;function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e,o){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,o){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(o):r.value}})(t,e,o||t)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var f=function(t){function e(t,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,o))}var o,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,t),o=e,(n=[{key:"boot",value:function(){a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"boot",this).call(this);var t=this.systems.events;this.gameObjects=new Phaser.Structs.Set,t.on("update",this._sceneUpdate,this),t.on("shutdown",this._sceneShutdown,this),t.once("destroy",this._sceneDestroy,this)}},{key:"_sceneUpdate",value:function(t,e){this.gameObjects.iterateLocal("update",t,e)}},{key:"_sceneShutdown",value:function(){this.gameObjects.clear()}},{key:"_sceneDestroy",value:function(){var t=this.systems.events;t.off("update",this._scenePostUpdate,this),t.off("shutdown",this._sceneShutdown,this),t.off("destroy",this._sceneDestroy,this),this.gameObjects=null,this.scene=null,this.systems=null}},{key:"add",value:function(t){t.once("destroy",this.remove,this),this.gameObjects.set(t)}},{key:"addMultiple",value:function(t){t.forEach(this.add,this)}},{key:"remove",value:function(t){t.off("destroy",this.remove,this),this.gameObjects.delete(t)}}])&&i(o.prototype,n),e}(((n=o(3943))&&n.__esModule?n:{default:n}).default);e.default=f,t.exports=e.default},9512:(t,e,o)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(o(222)),r=i(o(854));function i(t){return t&&t.__esModule?t:{default:t}}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f=function(t){function e(t,o){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))).assets={raw:o,array:[]},n.averageLightsContribute,n.cursors,n.layers,n.map,n.name=n.constructor.name,n.player,n.rooms,n}var o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,t),o=e,(i=[{key:"preload",value:function(){var t=this;this._scrapeAssets(),this.assets.array.forEach((function(e){"nPath"in e?t.load[e.type](e.key,[e.path,e.nPath]):"bPath"in e?(t.load[e.type](e.key,e.path),t.load[e.type](e.key+"_b",e.bPath)):t.load[e.type](e.key,e.path)})),this.load.image("top-border-mask-camera","assets/Masks/topMaskCamera.png"),this.load.image("bottom-border-mask-camera","assets/Masks/bottomMaskCamera.png"),this.load.image("left-border-mask-camera","assets/Masks/leftMaskCamera.png"),this.load.image("right-border-mask-camera","assets/Masks/rightMaskCamera.png")}},{key:"_scrapeAssets",value:function(){var t=this;for(var e in this.assets.raw)r.default.scrapeComplexObjKey(this.assets.raw[e],{type:e},"path",(function(e,o){e.type=o.type,e.key=r.default.findFileNameFromPath(e.path),t.assets.array.push(e)}))}},{key:"create",value:function(t){this.player=t.setName("player"),this.lights.enable(),this.scene.bringToTop("CursorScene"),this._setCameraViewport(),this._createRoom(),this._createSprites(),this._applyBorderMasks(),this.layers.setLayersDepth(),this.cameras.main.setBounds(0,0,this.layers.wallsLayer.width,this.layers.wallsLayer.height),this.cameras.main.startFollow(this.player),this.cameras.main.setRoundPixels(!0),this.physics.world.setBounds(n.default.TILE_SIZE,n.default.TILE_SIZE,this.layers.wallsLayer.width-2*n.default.TILE_SIZE,this.layers.wallsLayer.height-2*n.default.TILE_SIZE)}},{key:"_setCameraViewport",value:function(){"MOBILE"===n.default.DEVICE?(this.cameras.main.setPosition((n.default.ROOM_FRAME_IN_TILES_MOBILE+n.default.INVENTORY_WIDTH_IN_TILES_MOBILE)*n.default.TILE_SIZE,(n.default.ROOM_FRAME_IN_TILES_MOBILE+n.default.INVENTORY_HEIGHT_IN_TILES_MOBILE)*n.default.TILE_SIZE),this.cameras.main.setSize(n.default.SCREEN_PROPS.calculatedWidth-2*(n.default.ROOM_FRAME_IN_TILES_MOBILE+n.default.INVENTORY_WIDTH_IN_TILES_MOBILE)*n.default.TILE_SIZE,n.default.ROOM_HEIGHT_IN_TILE*n.default.TILE_SIZE)):(this.cameras.main.setPosition(n.default.ROOM_FRAME_IN_TILES_DESKTOP*n.default.TILE_SIZE,n.default.ROOM_FRAME_IN_TILES_DESKTOP*n.default.TILE_SIZE),this.cameras.main.setSize(n.default.SCREEN_PROPS.calculatedWidth-2*n.default.ROOM_FRAME_IN_TILES_DESKTOP*n.default.TILE_SIZE,n.default.ROOM_HEIGHT_IN_TILE*n.default.TILE_SIZE))}},{key:"_createRoom",value:function(){this.map=this.make.tilemap({key:r.default.findFileNameFromPath(this.assets.raw.tilemapTiledJSON.path),tileWidth:n.default.TILE_SIZE,tileHeight:n.default.TILE_SIZE}),this.layers.backgroundLayer=this.map.createDynamicLayer("backgroundLayer",this.map.addTilesetImage(r.default.findFileNameFromPath(this.assets.raw.image.tiles.background.path)),0,0).setPipeline("Light2D"),this.layers.wallsLayer=this.map.createDynamicLayer("wallsLayer",this.map.addTilesetImage(r.default.findFileNameFromPath(this.assets.raw.image.tiles.walls.path)),0,0),this.layers.wallsMaskLayer=this.map.createDynamicLayer("wallsMaskLayer",this.map.addTilesetImage(r.default.findFileNameFromPath(this.assets.raw.image.tiles.walls.bPath)),0,0)}},{key:"_createSprites",value:function(){var t=this,e=this;this.map.objects.forEach((function(o){o.objects.forEach((function(o){t[o.name]=new n.default.GAME_SPRITES[o.type].default(e,o.x+o.width/2,o.y-o.height/2),t[o.name].setName(o.name)}))}))}},{key:"_applyBorderMasks",value:function(){this.layers.borderMasksLayer.create(0,0,"top-border-mask-camera").setScrollFactor(0).setOrigin(0,0),this.layers.borderMasksLayer.create(0,0,"left-border-mask-camera").setScrollFactor(0).setOrigin(0,0),this.layers.borderMasksLayer.create(this.cameras.main.width-n.default.TILE_SIZE,0,"right-border-mask-camera").setScrollFactor(0).setOrigin(0,0),this.layers.borderMasksLayer.create(0,this.cameras.main.height-n.default.TILE_SIZE,"bottom-border-mask-camera").setScrollFactor(0).setOrigin(0,0)}},{key:"update",value:function(){this._updateMasksByLightDiffusion(),this.children.list.forEach((function(t){"actions"in t&&t.actions._update()}))}},{key:"_updateMasksByLightDiffusion",value:function(){this.averageLightsContribute=this.lightSources.calculateAverageLightsContribute(),this.layers.wallsMaskLayer.setAlpha(1-this.averageLightsContribute)}}])&&u(o.prototype,i),e}(i(o(1487)).default.Scene);e.default=f,t.exports=e.default},854:t=>{function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o={scrapeComplexObjKey:function(t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)o.scrapeComplexObjKey(t[a],n,r,i);else if(null!==t&&"object"===e(t))if(r in t)i(t,n);else for(var u in t)o.scrapeComplexObjKey(t[u],n,r,i)},findFileNameFromPath:function(t){var e=t.lastIndexOf("/")+1,o=t.lastIndexOf(".");return-1===e&&(e=0),-1===o?-1:t.slice(e,o)}};t.exports=o},944:(t,e,o)=>{var n={Room:o(9512)};t.exports=n},6604:(t,e,o)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(o(2763)),r=i(o(2592));function i(t){return t&&t.__esModule?t:{default:t}}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function f(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=function(t){function e(t,o,i,a){var c,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,l=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],p=arguments.length>6&&void 0!==arguments[6]?arguments[6]:n.default.INERT,y=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:n.default.DEFAULT_OBSERVE_TEXT,d=arguments.length>9&&void 0!==arguments[9]?arguments[9]:n.default.DEFAULT_EXAMINE_OR_INTERACT_TEXT,b=arguments.length>10&&void 0!==arguments[10]?arguments[10]:null,g=arguments.length>11&&void 0!==arguments[11]?arguments[11]:n.default.DEFAULT_NO_LIGHT_OBSERVE_TEXT,_=arguments.length>12&&void 0!==arguments[12]?arguments[12]:n.default.DEFAULT_NO_LIGHT_EXAMINE_OR_INTERACT_TEXT,m=arguments.length>13&&void 0!==arguments[13]?arguments[13]:0,O=arguments.length>14&&void 0!==arguments[14]?arguments[14]:0,v=arguments.length>15&&void 0!==arguments[15]?arguments[15]:n.default.DEFAULT_MIN_LIGHT_LEVEL_TO_EXAMINE_OR_INTERACT,E=arguments.length>16&&void 0!==arguments[16]?arguments[16]:n.default.DEFAULT_MIN_LIGHT_LEVEL_TO_OBSERVE;return u(this,e),(c=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,o,i,a))).room=t,c.name,c.key=c.constructor.name+(Math.floor(9e3*Math.random())+1e3),c.type=c.constructor.name,c.behaviours=new r.default(c,p,y),c.observeText=h,c.examineOrInteractText=d,c.blockExamineText=b,c.noLightObserveText=g,c.noLightExamineOrInteractText=_,c.examineOrInteractOffsetX=m,c.examineOrInteractThresholdRadius=O,c.minLightLevelToExamineOrInteract=v,c.minLightLevelToObserve=E,c.room.add.existing(c),c.room.updates.add(c),l&&(c.room.physics.add.existing(c),c.setCollideWorldBounds(!0),c.setGravityY(1e4)),null!=s&&(s in c.room.layers?(c.room.layers[s].add(c),c.room.layers.setLayersDepth()):console.warn("ALERT: layer not found for object",c)),c.create(),c}var o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,t),o=e,(i=[{key:"create",value:function(){console.log("Created:",this.key,"- Type:",this.type,"- Behaviour:",this.behaviours.type),this.setPipeline("Light2D")}},{key:"update",value:function(){}},{key:"setName",value:function(t){return this.name=t,this}},{key:"setHitAreaSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.width,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.height,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.input.hitArea.setSize(t,e),this.input.hitArea.setPosition((this.width-t)/2+o,(this.height-e)/2+n)}}])&&c(o.prototype,i),e}(i(o(1487)).default.Physics.Arcade.Sprite);e.default=l,t.exports=e.default},7656:(t,e)=>{"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};o(this,t),this.invoker=e,this.name=this.constructor.name,this.actor=n,this.target=r.target,this.config=r,this._queue=[],this.isPaused=!1}return r(t,[{key:"addActions",value:function(t){var e=this;Array.isArray(t)?t.forEach((function(t){e._queue.push(t)})):this._queue.push(t)}},{key:"_abort",value:function(){this._queue.length>0&&this._queue[0]._abort()}},{key:"_start",value:function(){this._queue.length>0&&this._queue[0]._start()}},{key:"finish",value:function(){this._queue.length>0&&this._queue[0].finish()}},{key:"_remove",value:function(){this._queue.length>0&&this._queue.shift(),this._queue.length<=0?this.invoker._remove():this._queue[0]._start()}},{key:"_pause",value:function(){this._queue.length>0&&(this._queue[0]._pause(),this.isPaused=!0)}},{key:"_resume",value:function(){this._queue.length>0&&(this.isPaused=!1,this._queue[0]._resume())}},{key:"_update",value:function(){this._queue.length>0&&this._queue[0]._update()}}],[{key:"BaseAction",get:function(){return function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:n,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:r;o(this,t),this.invoker=e,this.startCallback=n,this.finishCallback=r,this.updateCallback=i,this.resumeCallback=a,this.pauseCallback=u,this.isPaused=!1}return r(t,[{key:"_start",value:function(){this.startCallback()}},{key:"finish",value:function(){this.finishCallback(),this.invoker._remove()}},{key:"_abort",value:function(){this.finishCallback()}},{key:"_resume",value:function(){this.isPaused=!1,this.resumeCallback()}},{key:"_pause",value:function(){this.pauseCallback(),this.isPaused=!0}},{key:"_update",value:function(){this.updateCallback()}}]),t}()}}]),t}();e.default=i,t.exports=e.default},5759:(t,e,o)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(o(7656)),r=i(o(1734));function i(t){return t&&t.__esModule?t:{default:t}}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=function(t){function e(t,o,n){var i;return u(this,e),(i=c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))).addActions([new r.default(i,i.actor,i.config),i.target.behaviours.examine.getAction(i)]),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,t),e}(n.default);e.default=s,t.exports=e.default},5196:(t,e,o)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(o(7656)),r=a(o(3087)),i=a(o(8049));function a(t){return t&&t.__esModule?t:{default:t}}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=function(t){function e(t,o,a){var u;return c(this,e),(u=f(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))).addActions(new n.default.BaseAction(u,(function(){Math.abs(u.actor.x-u.target.x)>i.default.MICRO_MOVEMENT_RADIUS&&(u.actor.facing===r.default.RIGHT?u.actor.x>u.target.x&&(u.actor.facing=r.default.LEFT,u.actor.setFlipX(!0)):u.actor.facing===r.default.LEFT&&u.actor.x<u.target.x&&(u.actor.facing=r.default.RIGHT,u.actor.setFlipX(!1))),u.finish()}))),u}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,t),e}(n.default);e.default=l,t.exports=e.default},8049:t=>{t.exports={MICRO_MOVEMENT_RADIUS:6}},2675:(t,e,o)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(o(7656)),r=i(o(3087));function i(t){return t&&t.__esModule?t:{default:t}}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=function(t){function e(t,o,i){var a;return u(this,e),(a=c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))).addActions(new n.default.BaseAction(a,(function(){switch(a.actor.body.setVelocity(0),a.actor.facing){case r.default.LEFT:case r.default.RIGHT:a.actor.anims.play("idle")}}))),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,t),e}(n.default);e.default=s,t.exports=e.default},251:(t,e,o)=>{var n={Action:o(7656),Examine:o(5759),FaceTo:o(5196),Idle:o(2675),Interact:o(764),Observe:o(9698),RunTo:o(2853),WalkTo:o(1734)};t.exports=n},764:(t,e,o)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(o(7656)),r=i(o(1734));function i(t){return t&&t.__esModule?t:{default:t}}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=function(t){function e(t,o,n){var i;return u(this,e),(i=c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))).addActions([new r.default(i,i.actor,i.config),i.target.behaviours.interact.getAction(i)]),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,t),e}(n.default);e.default=s,t.exports=e.default},9698:(t,e,o)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(o(7656)),r=i(o(5196));function i(t){return t&&t.__esModule?t:{default:t}}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=function(t){function e(t,o,n){var i;return u(this,e),(i=c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))).addActions([new r.default(i,i.actor,i.config),i.target.behaviours.observe.getAction(i)]),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,t),e}(n.default);e.default=s,t.exports=e.default},2853:(t,e,o)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(o(7656)),r=a(o(5196)),i=a(o(7416));function a(t){return t&&t.__esModule?t:{default:t}}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=function(t){function e(t,o,a){var u;return c(this,e),(u=f(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))).addActions([new r.default(u,u.actor,u.config),new n.default.BaseAction(u,(function(){Math.abs(u.actor.x-u.target.x)>i.default.MICRO_MOVEMENT_RADIUS?(u.actor.x<u.target.x?(u.actor.anims.play("run"),u.actor.body.setVelocity(i.default.RUN_VELOCITY)):u.actor.x>u.target.x&&(u.actor.anims.play("run"),u.actor.body.setVelocity(-i.default.RUN_VELOCITY)),console.log("start to run to ",a.target.x)):u.finish()}),(function(){u.actor.body.setVelocity(0)}),(function(){(u.actor.x-u.target.x)*u.actor.body.velocity.x>0&&u.finish()}))]),u}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,t),e}(n.default);e.default=l,t.exports=e.default},7416:t=>{t.exports={RUN_VELOCITY:240,MICRO_MOVEMENT_RADIUS:20}},2135:t=>{t.exports={WALK_VELOCITY:100,MICRO_MOVEMENT_RADIUS:20}},1734:(t,e,o)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(o(7656)),r=a(o(5196)),i=a(o(2135));function a(t){return t&&t.__esModule?t:{default:t}}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=function(t){function e(t,o,a){var u;return c(this,e),(u=f(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))).addActions([new r.default(u,u.actor,u.config),new n.default.BaseAction(u,(function(){Math.abs(u.actor.x-u.target.x)>i.default.MICRO_MOVEMENT_RADIUS?u.actor.x<u.target.x?(u.actor.anims.play("walk"),u.actor.body.setVelocity(i.default.WALK_VELOCITY)):u.actor.x>u.target.x&&(u.actor.anims.play("walk"),u.actor.body.setVelocity(-i.default.WALK_VELOCITY)):u.finish()}),(function(){u.actor.body.setVelocity(0)}),(function(){(u.actor.x-u.target.x)*u.actor.body.velocity.x>0&&u.finish()}))]),u}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,t),e}(n.default);e.default=l,t.exports=e.default},2922:(t,e,o)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,r=(n=o(7656))&&n.__esModule?n:{default:n};function i(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.component=e,this.cursors=this.component.gameObject.room.cursors,this.gameObject=this.component.gameObject,this.room=this.component.gameObject.room,this.add()}var e,o;return e=t,(o=[{key:"add",value:function(){null===this.component.pixelPerfect?this.component.gameObject.setInteractive():this.component.gameObject.setInteractive({pixelPerfect:!0,alphaTolerance:this.component.pixelPerfect.alphaTolerance,draggable:!1})}},{key:"getAction",value:function(t){return new r.default.BaseAction(t,(function(){console.log("Sono una generica action dei behaviour"),t.finish()}))}},{key:"checkLight",value:function(t){return this.room.lightSources.calculateLightsContribuitePoint(this.gameObject)>=t}}])&&i(e.prototype,o),t}();e.default=a,t.exports=e.default},2219:t=>{t.exports={EXAMINABLE:"EXAMINABLE",INERT:"INERT",INTERACTIVE:"INTERACTIVE",TALKABLE:"TALKABLE",INVENTORY:"INVENTORY",DEFAULT_MIN_LIGHT_LEVEL_TO_OBSERVE:.05,DEFAULT_OBSERVE_TEXT:"Observe default text",DEFAULT_NO_LIGHT_OBSERVE_TEXT:"NoLightObserve default text",DEFAULT_MIN_LIGHT_LEVEL_TO_EXAMINE_OR_INTERACT:.04,DEFAULT_EXAMINE_OR_INTERACT_TEXT:"ExamineOrInteract default text",DEFAULT_NO_LIGHT_EXAMINE_OR_INTERACT_TEXT:"NoLightExamineOrInteract default text"}},439:(t,e,o)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(o(2922)),r=i(o(7656));function i(t){return t&&t.__esModule?t:{default:t}}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}var o,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,t),o=e,(n=[{key:"getAction",value:function(t){var e=this;return new r.default.BaseAction(t,(function(){e.checkLight(e.gameObject.minLightLevelToExamineOrInteract)?console.log(e.gameObject.examineOrInteractText):console.log(e.gameObject.noLightExamineOrInteractText),t.finish()}))}}])&&u(o.prototype,n),e}(n.default);e.default=f,t.exports=e.default},2763:(t,e,o)=>{"use strict";var n,r=(n=o(2219))&&n.__esModule?n:{default:n},i={Behaviour:o(2922),Examinable:o(439),Interactive:o(2246),Observable:o(9118),Talkable:o(5412),Inventory:o(1889)};i=Phaser.Utils.Objects.Extend(!1,i,r.default),t.exports=i},2246:(t,e,o)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(o(2922)),r=i(o(7656));function i(t){return t&&t.__esModule?t:{default:t}}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}var o,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,t),o=e,(n=[{key:"getAction",value:function(t){var e=this;return new r.default.BaseAction(t,(function(){e.checkLight(e.gameObject.minLightLevelToExamineOrInteract)?console.log(e.gameObject.examineOrInteractText):console.log(e.gameObject.noLightExamineOrInteractText),t.finish()}))}}])&&u(o.prototype,n),e}(n.default);e.default=f,t.exports=e.default},1889:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.default=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},t.exports=e.default},9118:(t,e,o)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(o(2922)),r=a(o(251)),i=a(o(8552));function a(t){return t&&t.__esModule?t:{default:t}}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function f(t,e,o){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,o){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=s(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(o):r.value}})(t,e,o||t)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var p=function(t){function e(t){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(o=function(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)))._timer,o}var o,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,t),o=e,(n=[{key:"add",value:function(){f(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"add",this).call(this),this.gameObject.on("pointerover",function(t){var e=this;this.cursors.setCursor(this.gameObject),this._timer=this.gameObject.room.time.addEvent({delay:i.default.DEFAULT_MIN_TIME_TO_OBSERVE,callback:function(){e.gameObject===e.room.player||e.room.player.isBlocked||e.room.player.actions.add(r.default.Observe,{target:e.gameObject})},callbackScope:this})}.bind(this)),this.gameObject.on("pointerout",function(t){this._timer.remove(!1),this.cursors.setCursor()}.bind(this))}},{key:"abort",value:function(){this._timer.remove(!1)}},{key:"getAction",value:function(t){var e=this;return new r.default.Action.BaseAction(t,(function(){e.checkLight(e.gameObject.minLightLevelToObserve)?console.log(e.gameObject.observeText):console.log(e.gameObject.noLightObserveText),t.finish()}))}}])&&c(o.prototype,n),e}(n.default);e.default=p,t.exports=e.default},8552:t=>{t.exports={DEFAULT_MIN_TIME_TO_OBSERVE:1200}},5412:()=>{},6270:(t,e,o)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=u(o(6604)),r=u(o(2763)),i=u(o(5582)),a=u(o(3087));function u(t){return t&&t.__esModule?t:{default:t}}function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function l(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t,e,o){return(p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,o){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=y(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(o):r.value}})(t,e,o||t)}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var d=function(t){function e(t,o,n,u,c){var s,p;return f(this,e),(p=l(this,(s=e.__proto__||Object.getPrototypeOf(e)).call.apply(s,[this].concat(Array.prototype.slice.call(arguments),[!0,r.default.INTERACTIVE,{alphaTolerance:1}])))).actions=new i.default.ActionComponent(p),p.facing=a.default.RIGHT,p}var o,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,t),o=e,(n=[{key:"create",value:function(){p(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"create",this).call(this)}}])&&s(o.prototype,n),e}(n.default);e.default=d,t.exports=e.default},2353:(t,e,o)=>{var n={NPCharacter:o(4745),Player:o(942)};t.exports=n},4745:(t,e,o)=>{"use strict";var n;function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=function(t){function e(t,o,n,i,a){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,o,n,i,a))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(e,t),e}(((n=o(6270))&&n.__esModule?n:{default:n}).default);e.default=a,t.exports=e.default},942:(t,e,o)=>{"use strict";var n;function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e,o){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,o){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(o):r.value}})(t,e,o||t)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var f=function(t){function e(t,o,n,i){var a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(a=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,o,n,i,"playerLayer"))).isBlocked=!1,a}var o,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,t),o=e,(n=[{key:"create",value:function(){a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"create",this).call(this),this.room.input.on("pointerdown",(function(t){this.room.cursors.pointerDown(this)}),this)}}])&&i(o.prototype,n),e}(((n=o(6270))&&n.__esModule?n:{default:n}).default);e.default=f,t.exports=e.default},1565:(t,e,o)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,r=(n=o(2295))&&n.__esModule?n:{default:n};function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var u=function(){function t(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,t),this.invoker=e,this.config=o,this.gameObject=e.gameObject,this.name=this.constructor.name}var e,o;return e=t,(o=[{key:"play",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};this.invoker instanceof r.default?t():console.log("Effects can only be played by the EffectComponent")}},{key:"stop",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};this.invoker instanceof r.default?t():console.log("Effects can only be stopped by the EffectComponent")}}])&&a(e.prototype,o),t}();e.default=u,t.exports=e.default},204:(t,e,o)=>{var n={Effect:o(1565),LightEffects:o(5677)};t.exports=n},7698:(t,e,o)=>{"use strict";var n;function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e,o){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,o){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(o):r.value}})(t,e,o||t)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var f=function(t){function e(t,o){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,o,.5))).config.minTime||(n.config.minTime=10),n.config.maxTime||(n.config.maxTime=400),n.config.finalState||(n.config.finalState="on"),n}var o,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,t),o=e,(n=[{key:"play",value:function(){var t=this;a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"play",this).call(this,(function(){!function e(){t.gameObject.room.time.addEvent({delay:Math.floor(Math.random()*(t.config.maxTime-t.config.minTime))+t.config.minTime,callback:function(){t.stopped||(null!==t.gameObject.initialConfig.graphicLight&&(0===t.gameObject.graphicLight.intensity?t.gameObject.graphicLight.setIntensity(t.gameObject.initialConfig.graphicLight.intensity):t.gameObject.graphicLight.setIntensity(0)),null!==t.gameObject.initialConfig.diffusedLight&&(0===t.gameObject.diffusedLight.intensity?t.gameObject.diffusedLight.setIntensity(t.gameObject.initialConfig.diffusedLight.intensity):t.gameObject.diffusedLight.setIntensity(0)),e())},callbackScope:t,repeat:0})}()}))}},{key:"stop",value:function(){var t=this;a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"stop",this).call(this,(function(){"on"===t.config.finalState?(null!==t.gameObject.initialConfig.graphicLight&&t.gameObject.graphicLight.setIntensity(t.gameObject.initialConfig.graphicLight.intensity),null!==t.gameObject.initialConfig.diffusedLight&&t.gameObject.diffusedLight.setIntensity(t.gameObject.initialConfig.diffusedLight.intensity)):"off"===t.config.finalState&&t.gameObject.turnOff()}))}}])&&i(o.prototype,n),e}(((n=o(7394))&&n.__esModule?n:{default:n}).default);e.default=f,t.exports=e.default},7065:(t,e,o)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(o(7394)),r=a(o(7698)),i=a(o(1026));function a(t){return t&&t.__esModule?t:{default:t}}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function f(t,e,o){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,o){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=s(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(o):r.value}})(t,e,o||t)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var p=function(t){function e(t,o){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,o,.5))).hardFlickering=new r.default(n.invoker,n.config),n.trembling=new i.default(n.invoker,n.config),n}var o,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,t),o=e,(n=[{key:"play",value:function(){var t=this;f(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"play",this).call(this,(function(){t.hardFlickering.play(),t.trembling.play()}))}},{key:"stop",value:function(){var t=this;f(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"stop",this).call(this,(function(){t.hardFlickering.stop(),t.trembling.stop()}))}}])&&c(o.prototype,n),e}(n.default);e.default=p,t.exports=e.default},7394:(t,e,o)=>{"use strict";var n;function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function u(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t,e,o){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,o){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(o):r.value}})(t,e,o||t)}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=function(t){function e(t,o){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return i(this,e),(n=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,o))).contributeFactor=r,n}var o,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,t),o=e,(n=[{key:"play",value:function(t){var o=this;c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"play",this).call(this,(function(){o.stopped=!1,t()}))}},{key:"stop",value:function(t){var o=this;c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"stop",this).call(this,(function(){o.stopped=!0,t()}))}}])&&a(o.prototype,n),e}(((n=o(1565))&&n.__esModule?n:{default:n}).default);e.default=l,t.exports=e.default},6780:(t,e,o)=>{"use strict";var n;function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e,o){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,o){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(o):r.value}})(t,e,o||t)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var f=function(t){function e(t,o){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,o,.9))).config.minTime||(n.config.minTime=10),n.config.maxTime||(n.config.maxTime=100),n.config.minPercentageIntensity||(n.config.minPercentageIntensity=.8),n.config.maxPercentageIntensity||(n.config.maxPercentageIntensity=1),n.config.minPercentageRadius||(n.config.minPercentageRadius=.8),n.config.maxPercentageRadius||(n.config.maxPercentageRadius=1),n.config.backToInitialIntensity||(n.config.backToInitialIntensity=!0),n.config.backToInitialRadius||(n.config.backToInitialRadius=!0),n}var o,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,t),o=e,(n=[{key:"play",value:function(){var t=this;a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"play",this).call(this,(function(){!function e(){t.gameObject.room.time.addEvent({delay:Math.floor(Math.random()*(t.config.maxTime-t.config.minTime))+t.config.minTime,callback:function(){if(!t.stopped){var o=Math.floor(100*(t.config.minPercentageIntensity+Math.random()*(t.config.maxPercentageIntensity-t.config.minPercentageIntensity))+1)/100;t.gameObject.graphicLight.setIntensity(t.gameObject.config.graphicLight.intensity*o),t.gameObject.diffusedLight.setIntensity(t.gameObject.config.diffusedLight.intensity*o);var n=Math.floor(100*(t.config.minPercentageRadius+Math.random()*(t.config.maxPercentageRadius-t.config.minPercentageRadius))+1)/100;t.gameObject.graphicLight.setRadius(t.gameObject.config.graphicLight.radius*n),e()}},callbackScope:t,repeat:0})}()}))}},{key:"stop",value:function(){var t=this;a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"stop",this).call(this,(function(){t.config.backToInitialIntensity?(t.gameObject.graphicLight.setIntensity(t.gameObject.config.graphicLight.intensity),t.gameObject.diffusedLight.setIntensity(t.gameObject.config.diffusedLight.intensity)):(t.gameObject.config.graphicLight.intensity=t.gameObject.graphicLight.intensity,t.gameObject.config.diffusedLight.intensity=t.gameObject.diffusedLight.intensity),t.config.backToInitialRadius?t.gameObject.graphicLight.setRadius(t.gameObject.config.graphicLight.radius):t.gameObject.config.graphicLight.radius=t.gameObject.graphicLight.radius}))}}])&&i(o.prototype,n),e}(((n=o(7394))&&n.__esModule?n:{default:n}).default);e.default=f,t.exports=e.default},3927:(t,e,o)=>{"use strict";var n;function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e,o){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,o){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(o):r.value}})(t,e,o||t)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var f=function(t){function e(t,o){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,o,.8))).config.minTime||(n.config.minTime=10),n.config.maxTime||(n.config.maxTime=100),n.config.minPercentageIntensity||(n.config.minPercentageIntensity=.8),n.config.maxPercentageIntensity||(n.config.maxPercentageIntensity=1),n.config.backToInitialIntensity||(n.config.backToInitialIntensity=!0),n}var o,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,t),o=e,(n=[{key:"play",value:function(){var t=this;a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"play",this).call(this,(function(){!function e(){t.gameObject.room.time.addEvent({delay:Math.floor(Math.random()*(t.config.maxTime-t.config.minTime))+t.config.minTime,callback:function(){if(!t.stopped){var o=Math.floor(100*(t.config.minPercentageIntensity+Math.random()*(t.config.maxPercentageIntensity-t.config.minPercentageIntensity))+1)/100;t.gameObject.graphicLight.setIntensity(t.gameObject.config.graphicLight.intensity*o),t.gameObject.diffusedLight.setIntensity(t.gameObject.config.diffusedLight.intensity*o),e()}},callbackScope:t,repeat:0})}()}))}},{key:"stop",value:function(){var t=this;a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"stop",this).call(this,(function(){t.config.backToInitialIntensity?(t.gameObject.graphicLight.setIntensity(t.gameObject.config.graphicLight.intensity),t.gameObject.diffusedLight.setIntensity(t.gameObject.config.diffusedLight.intensity)):(t.gameObject.config.graphicLight.intensity=t.gameObject.graphicLight.intensity,t.gameObject.config.diffusedLight.intensity=t.gameObject.diffusedLight.intensity)}))}}])&&i(o.prototype,n),e}(((n=o(7394))&&n.__esModule?n:{default:n}).default);e.default=f,t.exports=e.default},7175:(t,e,o)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(o(7394)),r=a(o(3927)),i=a(o(1026));function a(t){return t&&t.__esModule?t:{default:t}}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function f(t,e,o){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,o){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=s(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(o):r.value}})(t,e,o||t)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var p=function(t){function e(t,o){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,o,.5))).softFlickering=new r.default(n.invoker,n.config),n.trembling=new i.default(n.invoker,n.config),n}var o,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,t),o=e,(n=[{key:"play",value:function(){var t=this;f(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"play",this).call(this,(function(){t.softFlickering.play(),t.trembling.play()}))}},{key:"stop",value:function(){var t=this;f(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"stop",this).call(this,(function(){t.softFlickering.stop(),t.trembling.stop()}))}}])&&c(o.prototype,n),e}(n.default);e.default=p,t.exports=e.default},1026:(t,e,o)=>{"use strict";var n;function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e,o){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,o){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(o):r.value}})(t,e,o||t)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var f=function(t){function e(t,o){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,o,.8))).config.minTime||(n.config.minTime=10),n.config.maxTime||(n.config.maxTime=100),n.config.minPercentageIntensity||(n.config.minPercentageIntensity=.8),n.config.maxPercentageIntensity||(n.config.maxPercentageIntensity=1),n.config.minPercentageRadius||(n.config.minPercentageRadius=.8),n.config.maxPercentageRadius||(n.config.maxPercentageRadius=1),n.config.backToInitialIntensity||(n.config.backToInitialIntensity=!0),n.config.backToInitialRadius||(n.config.backToInitialRadius=!0),n}var o,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,t),o=e,(n=[{key:"play",value:function(){var t=this;a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"play",this).call(this,(function(){!function e(){t.gameObject.room.time.addEvent({delay:Math.floor(Math.random()*(t.config.maxTime-t.config.minTime))+t.config.minTime,callback:function(){if(!t.stopped){var o=Math.floor(100*(t.config.minPercentageIntensity+Math.random()*(t.config.maxPercentageIntensity-t.config.minPercentageIntensity))+1)/100;t.gameObject.graphicLight.setIntensity(t.gameObject.config.graphicLight.intensity*o),t.gameObject.diffusedLight.setIntensity(t.gameObject.config.diffusedLight.intensity*o);var n=Math.floor(100*(t.config.minPercentageRadius+Math.random()*(t.config.maxPercentageRadius-t.config.minPercentageRadius))+1)/100;t.gameObject.graphicLight.setRadius(t.gameObject.config.graphicLight.radius*n),e()}},callbackScope:t,repeat:0})}()}))}},{key:"stop",value:function(){var t=this;a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"stop",this).call(this,(function(){t.config.backToInitialIntensity?(t.gameObject.graphicLight.setIntensity(t.gameObject.config.graphicLight.intensity),t.gameObject.diffusedLight.setIntensity(t.gameObject.config.diffusedLight.intensity)):(t.gameObject.config.graphicLight.intensity=t.gameObject.graphicLight.intensity,t.gameObject.config.diffusedLight.intensity=t.gameObject.diffusedLight.intensity),t.config.backToInitialRadius?t.gameObject.graphicLight.setRadius(t.gameObject.config.graphicLight.radius):t.gameObject.config.graphicLight.radius=t.gameObject.graphicLight.radius}))}}])&&i(o.prototype,n),e}(((n=o(7394))&&n.__esModule?n:{default:n}).default);e.default=f,t.exports=e.default},5677:(t,e,o)=>{var n={HardFlickering:o(7698),HardFlickeringAndTrembling:o(7065),LightEffect:o(7394),RadiusFlickering:o(6780),SoftFlickering:o(3927),SoftFlickeringAndTrembling:o(7175),Trembling:o(1026)};t.exports=n},8886:(t,e,o)=>{var n={Actions:o(251),Behaviours:o(2763),Characters:o(2353),Effects:o(204),InventoryItems:o(3535),WorldItems:o(7560),Sprite:o(6604)};t.exports=n},2129:(t,e,o)=>{"use strict";var n;function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function u(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t,e,o){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,o){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(o):r.value}})(t,e,o||t)}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=function(t){function e(t,o,n,r,a){var c;return i(this,e),u(this,(c=e.__proto__||Object.getPrototypeOf(e)).call.apply(c,[this].concat(Array.prototype.slice.call(arguments),[!1])))}var o,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,t),o=e,(n=[{key:"create",value:function(){c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"create",this).call(this),this.resetPipeline()}}])&&a(o.prototype,n),e}(((n=o(6604))&&n.__esModule?n:{default:n}).default);e.default=l,t.exports=e.default},3535:(t,e,o)=>{var n={InventoryItem:o(2129)};t.exports=n},725:(t,e,o)=>{"use strict";var n;function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e,o){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,o){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(o):r.value}})(t,e,o||t)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var f=function(t){function e(t,o,n,i,a,u,c,f,s,l,p,y,h,d,b,g,_){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,o,n,i,a,u,c,f,s,l,p,y,h,d,b,g,_))}var o,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,t),o=e,(n=[{key:"create",value:function(){a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"create",this).call(this)}}])&&i(o.prototype,n),e}(((n=o(6604))&&n.__esModule?n:{default:n}).default);e.default=f,t.exports=e.default},7560:(t,e,o)=>{var n={WorldItem:o(725),LightSources:o(9504),RoomFurnitures:o(1307),WallFurnitures:o(126)};t.exports=n},5740:(t,e,o)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(o(725)),r=a(o(2763)),i=a(o(2295));function a(t){return t&&t.__esModule?t:{default:t}}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var p=function(t){function e(t,o,n,a,u,f,l,p){var y,h=!(arguments.length>8&&void 0!==arguments[8])||arguments[8];return c(this,e),(y=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,o,n,a,u,!0,r.default.EXAMINABLE))).setGravityY(0),y.initialConfig={graphicLight:f,diffusedLight:l,offset:p},y.config=y.initialConfig,y.isOn=!1,h&&y.turnOn(),y.room.lightSources.add(y),y.effects=new i.default(y),y}var o,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,t),o=e,(n=[{key:"turnOn",value:function(){this.isOn||(null!==this.initialConfig.diffusedLight&&(this.diffusedLight=this.room.lights.addLight(this.x+this.initialConfig.offset.x,this.y+this.initialConfig.offset.y,this.initialConfig.diffusedLight.radius).setIntensity(this.initialConfig.diffusedLight.intensity),this.room.lightSources.diffusedLights.push(this.diffusedLight)),null!==this.initialConfig.graphicLight&&(this.graphicLight=this.room.lights.addLight(this.x+this.initialConfig.offset.x,this.y+this.initialConfig.offset.y,this.initialConfig.graphicLight.radius).setIntensity(this.initialConfig.graphicLight.intensity),this.room.lightSources.graphicLights.push(this.graphicLight)),this.isOn=!0)}},{key:"turnOff",value:function(){if(this.isOn){var t=this.room.lightSources.diffusedLights.indexOf(this.diffusedLight);t>-1&&(this.room.lightSources.diffusedLights.splice(t,1),this.room.lights.removeLight(this.diffusedLight));var e=this.room.lightSources.graphicLights.indexOf(this.graphicLight);e>-1&&(this.room.lightSources.graphicLights.splice(e,1),this.room.lights.removeLight(this.graphicLight)),this.isOn=!1}}},{key:"switch",value:function(){this.isOn?this.turnOff():this.turnOn()}}])&&f(o.prototype,n),e}(n.default);e.default=p,t.exports=e.default},9504:(t,e,o)=>{var n={LightSource:o(5740)};t.exports=n},7025:(t,e,o)=>{"use strict";var n;function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=function(t){function e(t,o,n,i,a,u,c,f,s,l,p,y,h,d,b){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,o,n,i,"roomFurnitureLayer",!0,a,u,c,f,s,l,p,y,h,d,b))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(e,t),e}(((n=o(725))&&n.__esModule?n:{default:n}).default);e.default=a,t.exports=e.default},1307:(t,e,o)=>{var n={RoomFurniture:o(7025)};t.exports=n},2487:(t,e,o)=>{"use strict";var n;function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=function(t){function e(t,o,n,i,a,u,c,f,s,l,p,y,h,d,b){var g;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(g=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,o,n,i,"wallFurnitureLayer",!0,a,u,c,f,s,l,p,y,h,d,b))).setGravityY(0),g}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(e,t),e}(((n=o(725))&&n.__esModule?n:{default:n}).default);e.default=a,t.exports=e.default},126:(t,e,o)=>{var n={WallFurniture:o(2487)};t.exports=n},3689:(t,e,o)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(o(251)),r=a(o(2763)),i=a(o(1487));function a(t){return t&&t.__esModule?t:{default:t}}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e,o){return e&&f(t.prototype,e),o&&f(t,o),t}function l(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var h=function(t){function e(t){var o;return c(this,e),(o=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))).cursorScene,o.sceneManager,o.lastTarget,o}return p(e,t),s(e,[{key:"configure",value:function(t){this.sceneManager=t,this.cursorScene=this.sceneManager.add(e.CURSOR_SCENE_KEY,e.CursorScene,!0)}},{key:"pointerDown",value:function(t){if(!t.isBlocked)switch(this.cursorScene.cursor.texture.key){case e.DEFAULT_CURSOR:void 0!==t.room.input.activePointer.camera&&t.actions.add(n.default.WalkTo,{target:{x:t.room.input.activePointer.worldX}});break;case e.EXAMINABLE_CURSOR:this.lastTarget.behaviours.observe.abort(),t.actions.add(n.default.Examine,{target:this.lastTarget});break;case e.INTERACTIVE_CURSOR:this.lastTarget.behaviours.observe.abort(),t.actions.add(n.default.Interact,{target:this.lastTarget});break;case e.TALKABLE_CURSOR:t.actions.add(n.default.TalkTo,{target:this.lastTarget})}}},{key:"setCursor",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{behaviours:{type:r.default.INERT},room:{}};if("room"in t&&t!==t.room.player){switch(t.behaviours.type){case r.default.INERT:this.cursorScene.cursor.setTexture(e.DEFAULT_CURSOR).setOrigin(.4,.33);break;case r.default.EXAMINABLE:this.cursorScene.cursor.setTexture(e.EXAMINABLE_CURSOR).setOrigin(.33,.29);break;case r.default.INTERACTIVE:this.cursorScene.cursor.setTexture(e.INTERACTIVE_CURSOR).setOrigin(.4,.33);break;case r.default.TALKABLE:this.cursorScene.cursor.setTexture(e.TALKABLE_CURSOR)}this.lastTarget=t}}},{key:"showCursor",value:function(){this.cursorScene.cursor.setVisible(!0)}},{key:"hideCursor",value:function(){this.cursorScene.cursor.setVisible(!1)}}],[{key:"CursorScene",get:function(){return function(t){function o(){var t;return c(this,o),(t=l(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e.CURSOR_SCENE_KEY))).cursor,t}return p(o,t),s(o,[{key:"preload",value:function(){this.load.image(e.EXAMINABLE_CURSOR,"assets/Cursors/CursorExamine.png"),this.load.image(e.HOLD_CURSOR,"assets/Cursors/CursorHold.png"),this.load.image(e.INTERACTIVE_CURSOR,"assets/Cursors/CursorInteract.png"),this.load.image(e.DEFAULT_CURSOR,"assets/Cursors/CursorMove.png"),this.load.image(e.TALKABLE_CURSOR,"assets/Cursors/CursorTalk.png"),this.load.image(e.CHOICE_CURSOR,"assets/Cursors/CursorChoice.png"),this.load.image(e.CHOICE_PRESSED_CURSOR,"assets/Cursors/CursorChoicePressed.png")}},{key:"create",value:function(){this.input.setDefaultCursor("none"),this.cursor=this.add.image(0,0,e.DEFAULT_CURSOR).setOrigin(.4,.33).setDepth(1e5)}},{key:"update",value:function(){this.cursor.setPosition(this.input.activePointer.x,this.input.activePointer.y)}}]),o}(i.default.Scene)}},{key:"CURSOR_SCENE_KEY",get:function(){return"CursorScene"}},{key:"DEFAULT_CURSOR",get:function(){return"cursorMove"}},{key:"EXAMINABLE_CURSOR",get:function(){return"cursorExamine"}},{key:"INTERACTIVE_CURSOR",get:function(){return"cursorInteract"}},{key:"HOLD_CURSOR",get:function(){return"cursorHold"}},{key:"TALKABLE_CURSOR",get:function(){return"cursorTalk"}},{key:"CHOICE_CURSOR",get:function(){return"cursorChoice"}},{key:"CHOICE_PRESSED_CURSOR",get:function(){return"cursorChoicePressed"}}]),e}(i.default.Plugins.BasePlugin);e.default=h,t.exports=e.default},9162:(t,e,o)=>{var n={CursorSystem:o(3689),RoomSystem:o(1348)};t.exports=n},1348:(t,e,o)=>{"use strict";var n;function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=function(t){function e(t){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(o=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))).sceneManager={},o.currentRoom=null,o}var o,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(e,t),o=e,(n=[{key:"start",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&(console.log("Starting room:",t.name),this.currentRoom&&this.sceneManager.remove(this.currentRoom.name),t.name in this.sceneManager.keys?this.sceneManager.start(t.name):this.sceneManager.add(t.name,t,e),this.currentRoom=t)}},{key:"configure",value:function(t){this.sceneManager=t}}])&&i(o.prototype,n),e}(((n=o(1487))&&n.__esModule?n:{default:n}).default.Plugins.BasePlugin);e.default=u,t.exports=e.default},5075:(t,e,o)=>{"use strict";var n,r=(n=o(222))&&n.__esModule?n:{default:n};t.exports=function(){var t={};return"MOBILE"===r.default.DEVICE?(t.availHeight=window.innerHeight,t.availWidth=window.innerWidth,t.calculatedZoom=Math.floor(t.availHeight/((r.default.ROOM_HEIGHT_IN_TILE+r.default.INVENTORY_HEIGHT_IN_TILES_MOBILE+2*r.default.ROOM_FRAME_IN_TILES_MOBILE)*r.default.TILE_SIZE)*100)/100):(t.availHeight=screen.height,t.availWidth=screen.width,t.calculatedZoom=Math.floor(t.availHeight/((r.default.ROOM_HEIGHT_IN_TILE+r.default.INVENTORY_HEIGHT_IN_TILES_DESKTOP+2*r.default.ROOM_FRAME_IN_TILES_DESKTOP)*r.default.TILE_SIZE)*100)/100),console.log("ZOOM: "+t.calculatedZoom),t.calculatedHeight=Math.ceil(t.availHeight/t.calculatedZoom),t.calculatedWidth=Math.ceil(t.availWidth/t.calculatedZoom),console.log("AVAIL-H: "+t.availHeight+"\nCALC-H: "+t.calculatedHeight),console.log("AVAIL-W: "+t.availWidth+"\nCALC-W: "+t.calculatedWidth),t}},1899:(t,e,o)=>{var n={getScreenProps:o(5075)};t.exports=n},2806:t=>{"use strict";t.exports=(t,e)=>{const o={},n=Array.isArray(e);for(const[r,i]of Object.entries(t))(n?e.includes(r):e(r,i,t))&&(o[r]=i);return o}},306:t=>{"use strict";t.exports={i8:"1.0.0"}},1487:e=>{"use strict";e.exports=t}},o={};function n(t){if(o[t])return o[t].exports;var r=o[t]={exports:{}};return e[t](r,r.exports,n),r.exports}return n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n(8908)})()}));
//# sourceMappingURL=the-darkest-lib.min.js.map