!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("phaser")):"function"==typeof define&&define.amd?define("TDLib",["phaser"],e):"object"==typeof exports?exports.TDLib=e(require("phaser")):t.TDLib=e(t.phaser)}(window,(function(t){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=27)}([function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};o(this,t),this.invoker=e,this.name=this.constructor.name,this.actor=n,this.target=r.target,this.config=r,this._queue=[],this.isPaused=!1}return i(t,[{key:"addActions",value:function(t){var e=this;Array.isArray(t)?t.forEach((function(t){e._queue.push(t)})):this._queue.push(t)}},{key:"_abort",value:function(){this._queue.length>0&&this._queue[0]._abort()}},{key:"_start",value:function(){this._queue.length>0&&this._queue[0]._start()}},{key:"finish",value:function(){this._queue.length>0&&this._queue[0].finish()}},{key:"_remove",value:function(){this._queue.length>0&&this._queue.shift(),this._queue.length<=0?this.invoker._remove():this._queue[0]._start()}},{key:"_pause",value:function(){this._queue.length>0&&(this._queue[0]._pause(),this.isPaused=!0)}},{key:"_resume",value:function(){this._queue.length>0&&(this.isPaused=!1,this._queue[0]._resume())}},{key:"_update",value:function(){this._queue.length>0&&this._queue[0]._update()}}],[{key:"BaseAction",get:function(){return function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:n,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:r;o(this,t),this.invoker=e,this.startCallback=n,this.finishCallback=r,this.updateCallback=i,this.resumeCallback=a,this.pauseCallback=u,this.isPaused=!1}return i(t,[{key:"_start",value:function(){this.startCallback()}},{key:"finish",value:function(){this.finishCallback(),this.invoker._remove()}},{key:"_abort",value:function(){this.finishCallback()}},{key:"_resume",value:function(){this.isPaused=!1,this.resumeCallback()}},{key:"_pause",value:function(){this.pauseCallback(),this.isPaused=!0}},{key:"_update",value:function(){this.updateCallback()}}]),t}()}}]),t}();e.default=a,t.exports=e.default},function(e,n){e.exports=t},function(t,e,n){"use strict";var o;function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function u(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t,e,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=function(t){function e(t,n){var o,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return i(this,e),(o=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))).contributeFactor=r,o}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,t),n=e,(o=[{key:"play",value:function(t){var n=this;c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"play",this).call(this,(function(){n.stopped=!1,t()}))}},{key:"stop",value:function(t){var n=this;c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"stop",this).call(this,(function(){n.stopped=!0,t()}))}}])&&a(n.prototype,o),r&&a(n,r),e}(((o=n(19))&&o.__esModule?o:{default:o}).default);e.default=l,t.exports=e.default},function(t,e){t.exports={GAME:"",TILE_SIZE:48,ROOM_HEIGHT_IN_TILE:6,INVENTORY_WIDTH_IN_TILES_MOBILE:1.25,INVENTORY_WIDTH_IN_TILES_DESKTOP:0,INVENTORY_HEIGHT_IN_TILES_MOBILE:0,INVENTORY_HEIGHT_IN_TILES_DESKTOP:1,ROOM_FRAME_IN_TILES_DESKTOP:.5,ROOM_FRAME_IN_TILES_MOBILE:.25,SCREEN_PROPS:{},DEVICE:"Desktop",STARTING_ROOM:null,GAME_SPRITES:null}},function(t,e,n){"use strict";var o,r=(o=n(39))&&o.__esModule?o:{default:o};var i={Behaviour:n(9),Examinable:n(40),Interactive:n(41),Observable:n(42),Talkable:n(44),Inventory:n(45)};i=Phaser.Utils.Objects.Extend(!1,i,r.default),t.exports=i},function(t,e,n){"use strict";var o,r=(o=n(1))&&o.__esModule?o:{default:o};
/**
 * @author       Francesco Negri <francesco.negri@outlook.com>
 * @copyright    2019 The Darkest Light
 * @license      {@link https://github.com/FrancescoNegri/TheDarkestLib/blob/master/LICENSE|MIT License}
 */
var i={VERSION:n(29).version,PHASER_VERSION:r.default.VERSION,LEFT:"_left",RIGHT:"_right"};t.exports=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}
/**
 * @author       Francesco Negri <francesco.negri@outlook.com>
 * @copyright    2019 The Darkest Light
 * @license      {@link https://github.com/FrancescoNegri/TheDarkestLib/blob/master/LICENSE|MIT License}
 */(this,t),this.name=this.constructor.name,this.gameObject=e},t.exports=e.default},function(t,e,n){var o={Action:n(0),Examine:n(31),FaceTo:n(8),Idle:n(34),Interact:n(35),Observe:n(36),RunTo:n(37),WalkTo:n(13)};t.exports=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=a(n(0)),r=a(n(5)),i=a(n(32));function a(t){return t&&t.__esModule?t:{default:t}}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=function(t){function e(t,n,a){var u;return c(this,e),(u=f(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))).addActions(new o.default.BaseAction(u,(function(){Math.abs(u.actor.x-u.target.x)>i.default.MICRO_MOVEMENT_RADIUS&&(u.actor.facing===r.default.RIGHT?u.actor.x>u.target.x&&(u.actor.facing=r.default.LEFT,u.actor.setFlipX(!0)):u.actor.facing===r.default.LEFT&&u.actor.x<u.target.x&&(u.actor.facing=r.default.RIGHT,u.actor.setFlipX(!1))),u.finish()}))),u}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,t),e}(o.default);e.default=l,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o,r=(o=n(0))&&o.__esModule?o:{default:o};function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.component=e,this.cursors=this.component.gameObject.room.cursors,this.gameObject=this.component.gameObject,this.room=this.component.gameObject.room,this.add()}var e,n,o;return e=t,(n=[{key:"add",value:function(){null===this.component.pixelPerfect?this.component.gameObject.setInteractive():this.component.gameObject.setInteractive({pixelPerfect:!0,alphaTolerance:this.component.pixelPerfect.alphaTolerance,draggable:!1})}},{key:"getAction",value:function(t){return new r.default.BaseAction(t,(function(){console.log("Sono una generica action dei behaviour"),t.finish()}))}},{key:"checkLight",value:function(t){return this.room.lightSources.calculateLightsContribuitePoint(this.gameObject)>=t}}])&&i(e.prototype,n),o&&i(e,o),t}();e.default=a,t.exports=e.default},function(t,e,n){"use strict";var o;function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function a(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=function(t){function e(t,n,o,r,i,u,c,f,s,l,p,y,h,d,b,g,_){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,o,r,i,u,c,f,s,l,p,y,h,d,b,g,_))}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,t),n=e,(o=[{key:"create",value:function(){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"create",this).call(this)}}])&&i(n.prototype,o),r&&i(n,r),e}(((o=n(11))&&o.__esModule?o:{default:o}).default);e.default=s,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n(4)),r=i(n(17));function i(t){return t&&t.__esModule?t:{default:t}}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function f(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=function(t){function e(t,n,i,a){var c,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,l=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],p=arguments.length>6&&void 0!==arguments[6]?arguments[6]:o.default.INERT,y=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:o.default.DEFAULT_OBSERVE_TEXT,d=arguments.length>9&&void 0!==arguments[9]?arguments[9]:o.default.DEFAULT_EXAMINE_OR_INTERACT_TEXT,b=arguments.length>10&&void 0!==arguments[10]?arguments[10]:null,g=arguments.length>11&&void 0!==arguments[11]?arguments[11]:o.default.DEFAULT_NO_LIGHT_OBSERVE_TEXT,_=arguments.length>12&&void 0!==arguments[12]?arguments[12]:o.default.DEFAULT_NO_LIGHT_EXAMINE_OR_INTERACT_TEXT,m=arguments.length>13&&void 0!==arguments[13]?arguments[13]:0,O=arguments.length>14&&void 0!==arguments[14]?arguments[14]:0,v=arguments.length>15&&void 0!==arguments[15]?arguments[15]:o.default.DEFAULT_MIN_LIGHT_LEVEL_TO_EXAMINE_OR_INTERACT,E=arguments.length>16&&void 0!==arguments[16]?arguments[16]:o.default.DEFAULT_MIN_LIGHT_LEVEL_TO_OBSERVE;return u(this,e),(c=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i,a))).room=t,c.name,c.key=c.constructor.name+(Math.floor(9e3*Math.random())+1e3),c.type=c.constructor.name,c.behaviours=new r.default(c,p,y),c.observeText=h,c.examineOrInteractText=d,c.blockExamineText=b,c.noLightObserveText=g,c.noLightExamineOrInteractText=_,c.examineOrInteractOffsetX=m,c.examineOrInteractThresholdRadius=O,c.minLightLevelToExamineOrInteract=v,c.minLightLevelToObserve=E,c.room.add.existing(c),c.room.updates.add(c),l&&(c.room.physics.add.existing(c),c.setCollideWorldBounds(!0),c.setGravityY(1e4)),null!=s&&(s in c.room.layers?(c.room.layers[s].add(c),c.room.layers.setLayersDepth()):console.warn("ALERT: layer not found for object",c)),c.create(),c}var n,i,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,t),n=e,(i=[{key:"create",value:function(){console.log("Created:",this.key,"- Type:",this.type,"- Behaviour:",this.behaviours.type),this.setPipeline("Light2D")}},{key:"update",value:function(){}},{key:"setName",value:function(t){return this.name=t,this}},{key:"setHitAreaSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.width,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.height,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.input.hitArea.setSize(t,e),this.input.hitArea.setPosition((this.width-t)/2+n,(this.height-e)/2+o)}}])&&c(n.prototype,i),a&&c(n,a),e}(i(n(1)).default.Physics.Arcade.Sprite);e.default=l,t.exports=e.default},function(t,e,n){"use strict";var o;function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function a(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=function(t){function e(t,n){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(o=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))).room=t,o}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,t),n=e,(o=[{key:"boot",value:function(){}}])&&i(n.prototype,o),r&&i(n,r),e}(((o=n(1))&&o.__esModule?o:{default:o}).default.Plugins.ScenePlugin);e.default=c,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=a(n(0)),r=a(n(8)),i=a(n(33));function a(t){return t&&t.__esModule?t:{default:t}}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=function(t){function e(t,n,a){var u;return c(this,e),(u=f(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))).addActions([new r.default(u,u.actor,u.config),new o.default.BaseAction(u,(function(){Math.abs(u.actor.x-u.target.x)>i.default.MICRO_MOVEMENT_RADIUS?u.actor.x<u.target.x?(u.actor.anims.play("walk"),u.actor.body.setVelocity(i.default.WALK_VELOCITY)):u.actor.x>u.target.x&&(u.actor.anims.play("walk"),u.actor.body.setVelocity(-i.default.WALK_VELOCITY)):u.finish()}),(function(){u.actor.body.setVelocity(0)}),(function(){(u.actor.x-u.target.x)*u.actor.body.velocity.x>0&&u.finish()}))]),u}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,t),e}(o.default);e.default=l,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=a(n(6)),r=a(n(18)),i=a(n(22));function a(t){return t&&t.__esModule?t:{default:t}}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function f(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))).previousEffects=[],n.currentEffect=null,n}var n,o,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,t),n=e,(o=[{key:"play",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,o=arguments[2];this.currentEffect&&this.stop(),t in r.default?this.currentEffect=new r.default[t](this,o):t in r.default.LightEffects?this.gameObject instanceof i.default?this.currentEffect=new r.default.LightEffects[t](this,o):console.log(t+" can only be run by a LightSource"):console.log("No effect with key: ",t),this.currentEffect&&this.currentEffect.play(),n>0?(this.timer=this.gameObject.room.time.addEvent({delay:n,callback:function(){e.stop()},callbackScope:this,repeat:0}),console.log(this.currentEffect.name+"Effect started for",n,"ms")):-1===n?console.log(this.currentEffect.name+"Effect started"):console.log("You must use a positive value!")}},{key:"stop",value:function(){this.currentEffect&&(this.timer&&(this.timer.remove(),this.timer=null),this.previousEffects.push(this.currentEffect),this.currentEffect.stop(),console.log(this.currentEffect.name+"Effect stopped"),this.currentEffect=null,console.log(this.previousEffects))}}])&&c(n.prototype,o),a&&c(n,a),e}(o.default);e.default=l,t.exports=e.default},function(t,e,n){"use strict";var o;function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function a(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=function(t){function e(t,n){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(o=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,.8))).config.minTime||(o.config.minTime=10),o.config.maxTime||(o.config.maxTime=100),o.config.minPercentageIntensity||(o.config.minPercentageIntensity=.8),o.config.maxPercentageIntensity||(o.config.maxPercentageIntensity=1),o.config.minPercentageRadius||(o.config.minPercentageRadius=.8),o.config.maxPercentageRadius||(o.config.maxPercentageRadius=1),o.config.backToInitialIntensity||(o.config.backToInitialIntensity=!0),o.config.backToInitialRadius||(o.config.backToInitialRadius=!0),o}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,t),n=e,(o=[{key:"play",value:function(){var t=this;u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"play",this).call(this,(function(){!function e(){t.gameObject.room.time.addEvent({delay:Math.floor(Math.random()*(t.config.maxTime-t.config.minTime))+t.config.minTime,callback:function(){if(!t.stopped){var n=Math.floor(100*(t.config.minPercentageIntensity+Math.random()*(t.config.maxPercentageIntensity-t.config.minPercentageIntensity))+1)/100;t.gameObject.graphicLight.setIntensity(t.gameObject.config.graphicLight.intensity*n),t.gameObject.diffusedLight.setIntensity(t.gameObject.config.diffusedLight.intensity*n);var o=Math.floor(100*(t.config.minPercentageRadius+Math.random()*(t.config.maxPercentageRadius-t.config.minPercentageRadius))+1)/100;t.gameObject.graphicLight.setRadius(t.gameObject.config.graphicLight.radius*o),e()}},callbackScope:t,repeat:0})}()}))}},{key:"stop",value:function(){var t=this;u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"stop",this).call(this,(function(){t.config.backToInitialIntensity?(t.gameObject.graphicLight.setIntensity(t.gameObject.config.graphicLight.intensity),t.gameObject.diffusedLight.setIntensity(t.gameObject.config.diffusedLight.intensity)):(t.gameObject.config.graphicLight.intensity=t.gameObject.graphicLight.intensity,t.gameObject.config.diffusedLight.intensity=t.gameObject.diffusedLight.intensity),t.config.backToInitialRadius?t.gameObject.graphicLight.setRadius(t.gameObject.config.graphicLight.radius):t.gameObject.config.graphicLight.radius=t.gameObject.graphicLight.radius}))}}])&&i(n.prototype,o),r&&i(n,r),e}(((o=n(2))&&o.__esModule?o:{default:o}).default);e.default=s,t.exports=e.default},function(t,e,n){
/**
 * @author       Francesco Negri <francesco.negri@outlook.com>
 * @copyright    2019 The Darkest Light
 * @license      {@link https://github.com/FrancescoNegri/TheDarkestLib/blob/master/LICENSE|MIT License}
 */
var o={Component:n(6),ActionComponent:n(30),BehaviourComponent:n(17),EffectComponent:n(14)};t.exports=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n(6)),r=i(n(4));function i(t){return t&&t.__esModule?t:{default:t}}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function c(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=function(t){function e(t,n,o){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))).player,void 0===r.gameObject.room.player?r.player=r.gameObject:r.player=r.gameObject.room.player,r.type=n,r.pixelPerfect=o,r._addBehaviours(),r}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,t),n=e,(o=[{key:"_addBehaviours",value:function(){this.type!==r.default.EXAMINABLE&&this.type!==r.default.INTERACTIVE||(this.observe=new r.default.Observable(this),this.type===r.default.EXAMINABLE?this.examine=new r.default.Examinable(this):this.type===r.default.INTERACTIVE&&(this.interact=new r.default.Interactive(this)))}}])&&u(n.prototype,o),i&&u(n,i),e}(o.default);e.default=s,t.exports=e.default},function(t,e,n){var o={Effect:n(19),LightEffects:n(46)};t.exports=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o,r=(o=n(14))&&o.__esModule?o:{default:o};function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var u=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,t),this.invoker=e,this.config=n,this.gameObject=e.gameObject,this.name=this.constructor.name}var e,n,o;return e=t,(n=[{key:"play",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};this.invoker instanceof r.default?t():console.log("Effects can only be played by the EffectComponent")}},{key:"stop",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};this.invoker instanceof r.default?t():console.log("Effects can only be stopped by the EffectComponent")}}])&&a(e.prototype,n),o&&a(e,o),t}();e.default=u,t.exports=e.default},function(t,e,n){"use strict";var o;function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function a(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=function(t){function e(t,n){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(o=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,.5))).config.minTime||(o.config.minTime=10),o.config.maxTime||(o.config.maxTime=400),o.config.finalState||(o.config.finalState="on"),o}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,t),n=e,(o=[{key:"play",value:function(){var t=this;u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"play",this).call(this,(function(){!function e(){t.gameObject.room.time.addEvent({delay:Math.floor(Math.random()*(t.config.maxTime-t.config.minTime))+t.config.minTime,callback:function(){t.stopped||(null!==t.gameObject.initialConfig.graphicLight&&(0===t.gameObject.graphicLight.intensity?t.gameObject.graphicLight.setIntensity(t.gameObject.initialConfig.graphicLight.intensity):t.gameObject.graphicLight.setIntensity(0)),null!==t.gameObject.initialConfig.diffusedLight&&(0===t.gameObject.diffusedLight.intensity?t.gameObject.diffusedLight.setIntensity(t.gameObject.initialConfig.diffusedLight.intensity):t.gameObject.diffusedLight.setIntensity(0)),e())},callbackScope:t,repeat:0})}()}))}},{key:"stop",value:function(){var t=this;u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"stop",this).call(this,(function(){"on"===t.config.finalState?(null!==t.gameObject.initialConfig.graphicLight&&t.gameObject.graphicLight.setIntensity(t.gameObject.initialConfig.graphicLight.intensity),null!==t.gameObject.initialConfig.diffusedLight&&t.gameObject.diffusedLight.setIntensity(t.gameObject.initialConfig.diffusedLight.intensity)):"off"===t.config.finalState&&t.gameObject.turnOff()}))}}])&&i(n.prototype,o),r&&i(n,r),e}(((o=n(2))&&o.__esModule?o:{default:o}).default);e.default=s,t.exports=e.default},function(t,e,n){"use strict";var o;function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function a(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=function(t){function e(t,n){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(o=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,.8))).config.minTime||(o.config.minTime=10),o.config.maxTime||(o.config.maxTime=100),o.config.minPercentageIntensity||(o.config.minPercentageIntensity=.8),o.config.maxPercentageIntensity||(o.config.maxPercentageIntensity=1),o.config.backToInitialIntensity||(o.config.backToInitialIntensity=!0),o}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,t),n=e,(o=[{key:"play",value:function(){var t=this;u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"play",this).call(this,(function(){!function e(){t.gameObject.room.time.addEvent({delay:Math.floor(Math.random()*(t.config.maxTime-t.config.minTime))+t.config.minTime,callback:function(){if(!t.stopped){var n=Math.floor(100*(t.config.minPercentageIntensity+Math.random()*(t.config.maxPercentageIntensity-t.config.minPercentageIntensity))+1)/100;t.gameObject.graphicLight.setIntensity(t.gameObject.config.graphicLight.intensity*n),t.gameObject.diffusedLight.setIntensity(t.gameObject.config.diffusedLight.intensity*n),e()}},callbackScope:t,repeat:0})}()}))}},{key:"stop",value:function(){var t=this;u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"stop",this).call(this,(function(){t.config.backToInitialIntensity?(t.gameObject.graphicLight.setIntensity(t.gameObject.config.graphicLight.intensity),t.gameObject.diffusedLight.setIntensity(t.gameObject.config.diffusedLight.intensity)):(t.gameObject.config.graphicLight.intensity=t.gameObject.graphicLight.intensity,t.gameObject.config.diffusedLight.intensity=t.gameObject.diffusedLight.intensity)}))}}])&&i(n.prototype,o),r&&i(n,r),e}(((o=n(2))&&o.__esModule?o:{default:o}).default);e.default=s,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=a(n(10)),r=a(n(4)),i=a(n(14));function a(t){return t&&t.__esModule?t:{default:t}}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function s(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var p=function(t){function e(t,n,o,a,u,f,l,p){var y,h=!(arguments.length>8&&void 0!==arguments[8])||arguments[8];return c(this,e),(y=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,o,a,u,!0,r.default.EXAMINABLE))).setGravityY(0),y.initialConfig={graphicLight:f,diffusedLight:l,offset:p},y.config=y.initialConfig,y.isOn=!1,h&&y.turnOn(),y.room.lightSources.add(y),y.effects=new i.default(y),y}var n,o,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,t),n=e,(o=[{key:"turnOn",value:function(){this.isOn||(null!==this.initialConfig.diffusedLight&&(this.diffusedLight=this.room.lights.addLight(this.x+this.initialConfig.offset.x,this.y+this.initialConfig.offset.y,this.initialConfig.diffusedLight.radius).setIntensity(this.initialConfig.diffusedLight.intensity),this.room.lightSources.diffusedLights.push(this.diffusedLight)),null!==this.initialConfig.graphicLight&&(this.graphicLight=this.room.lights.addLight(this.x+this.initialConfig.offset.x,this.y+this.initialConfig.offset.y,this.initialConfig.graphicLight.radius).setIntensity(this.initialConfig.graphicLight.intensity),this.room.lightSources.graphicLights.push(this.graphicLight)),this.isOn=!0)}},{key:"turnOff",value:function(){if(this.isOn){var t=this.room.lightSources.diffusedLights.indexOf(this.diffusedLight);t>-1&&(this.room.lightSources.diffusedLights.splice(t,1),this.room.lights.removeLight(this.diffusedLight));var e=this.room.lightSources.graphicLights.indexOf(this.graphicLight);e>-1&&(this.room.lightSources.graphicLights.splice(e,1),this.room.lights.removeLight(this.graphicLight)),this.isOn=!1}}},{key:"switch",value:function(){this.isOn?this.turnOff():this.turnOn()}}])&&f(n.prototype,o),a&&f(n,a),e}(o.default);e.default=p,t.exports=e.default},function(t,e,n){var o={getScreenProps:n(52)};t.exports=o},function(t,e,n){
/**
 * @author       Francesco Negri <francesco.negri@outlook.com>
 * @copyright    2019 The Darkest Light
 * @license      {@link https://github.com/FrancescoNegri/TheDarkestLib/blob/master/LICENSE|MIT License}
 */
var o={LayerManager:n(53),LightSourceManager:n(55),Manager:n(12),UpdateManager:n(56)};t.exports=o},function(t,e,n){var o={CursorSystem:n(57),RoomSystem:n(58)};t.exports=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=u(n(11)),r=u(n(4)),i=u(n(16)),a=u(n(5));function u(t){return t&&t.__esModule?t:{default:t}}function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function l(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t,e,n){return(p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=y(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var d=function(t){function e(t,n,o,u,c){var s,p;return f(this,e),(p=l(this,(s=e.__proto__||Object.getPrototypeOf(e)).call.apply(s,[this].concat(Array.prototype.slice.call(arguments),[!0,r.default.INTERACTIVE,{alphaTolerance:1}])))).actions=new i.default.ActionComponent(p),p.facing=a.default.RIGHT,p}var n,o,u;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,t),n=e,(o=[{key:"create",value:function(){p(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"create",this).call(this)}}])&&s(n.prototype,o),u&&s(n,u),e}(o.default);e.default=d,t.exports=e.default},function(t,e,n){"use strict";(function(e){var o=i(n(5)),r=i(n(1));function i(t){return t&&t.__esModule?t:{default:t}}
/**
 * @author       Francesco Negri <francesco.negri@outlook.com>
 * @copyright    2019 The Darkest Light
 * @license      {@link https://github.com/FrancescoNegri/TheDarkestLib/blob/master/LICENSE|MIT License}
 */var a={Components:n(16),Game:n(50),Managers:n(24),Rooms:n(61),Settings:n(3),Sprites:n(64),Systems:n(25),Utils:n(23)};a=r.default.Utils.Objects.Extend(!1,a,o.default),t.exports=a,e.TDLib=a}).call(this,n(28))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t){t.exports=JSON.parse('{"name":"the-darkest-lib","title":"TDLib","version":"1.0.0","description":"A spcific extension of Phaser game engine.","homepage":"https://github.com/FrancescoNegri/TheDarkestLib","main":"lib/TDLib.js","scripts":{"build":"webpack --env dev && webpack --env build","dev":"webpack --progress --colors --watch --env dev","docs":"./node_modules/.bin/jsdoc -d ./docs -t ./node_modules/ink-docstrap/template -R README.md -r ./src"},"repository":{"type":"git","url":"https://github.com/FrancescoNegri/TheDarkestLib.git"},"keywords":["webpack","es6","starter","library","universal","umd","commonjs","phaser"],"author":"Francesco Negri","license":"MIT","bugs":{"url":"https://github.com/FrancescoNegri/TheDarkestLib/issues"},"devDependencies":{"@babel/cli":"^7.11.6","@babel/core":"^7.11.6","@babel/preset-env":"^7.11.5","babel-eslint":"^10.1.0","babel-loader":"^8.1.0","babel-plugin-add-module-exports":"^1.0.4","babel-preset-env":"^7.0.0-beta.3","babel-register":"^7.0.0-beta.3","eslint":"^5.15.1","eslint-loader":"^2.0.0","ink-docstrap":"^1.3.2","jsdoc":"^3.6.6","jsdom":"13.2.0","jsdom-global":"3.0.2","uglifyjs-webpack-plugin":"^2.2.0","webpack":"^4.44.2","webpack-cli":"^3.3.12","yargs":"^13.2.2"},"dependencies":{"filter-obj":"^1.1.0","phaser":"^3.24.1"}}')},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n(6)),r=i(n(7));function i(t){return t&&t.__esModule?t:{default:t}}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function c(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))).gameObject=t,n.defaultAction=new r.default.Idle(n,n.gameObject),n._queue=[n.defaultAction],n._queue[0]._start(),n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,t),n=e,i=[{key:"DEFAULT_MODE",get:function(){return 0}},{key:"QUEUE_MODE",get:function(){return 1}},{key:"PAUSE_MODE",get:function(){return 2}}],(o=[{key:"add",value:function(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.DEFAULT_MODE,r=new t(this,this.gameObject,n);switch(o){case e.DEFAULT_MODE:this._queue[0]._abort(),this._queue=[],this._queue.push(r),this._queue[0]._start();break;case e.QUEUE_MODE:this._queue.push(r);break;case e.PAUSE_MODE:this._queue[0]._pause(),this._queue.unshift(r),this._queue[0]._start()}return r}},{key:"_remove",value:function(){this._queue.shift(),this._queue.length<=0&&this._queue.push(this.defaultAction),this._queue[0].isPaused?this._queue[0]._resume():this._queue[0]._start()}},{key:"_update",value:function(){this._queue.length<=0?this._queue.push(this.defaultAction):this._queue.length>1&&"Idle"===this._queue[0].name&&(this._queue.shift(),this._queue[0].isPaused?this._queue[0]._resume():this._queue[0]._start()),this._queue[0]._update()}}])&&u(n.prototype,o),i&&u(n,i),e}(o.default);e.default=s,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n(0)),r=i(n(13));function i(t){return t&&t.__esModule?t:{default:t}}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=function(t){function e(t,n,o){var i;return u(this,e),(i=c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))).addActions([new r.default(i,i.actor,i.config),i.target.behaviours.examine.getAction(i)]),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,t),e}(o.default);e.default=s,t.exports=e.default},function(t,e){t.exports={MICRO_MOVEMENT_RADIUS:6}},function(t,e){t.exports={WALK_VELOCITY:100,MICRO_MOVEMENT_RADIUS:20}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n(0)),r=i(n(5));function i(t){return t&&t.__esModule?t:{default:t}}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=function(t){function e(t,n,i){var a;return u(this,e),(a=c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))).addActions(new o.default.BaseAction(a,(function(){switch(a.actor.body.setVelocity(0),a.actor.facing){case r.default.LEFT:case r.default.RIGHT:a.actor.anims.play("idle")}}))),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,t),e}(o.default);e.default=s,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n(0)),r=i(n(13));function i(t){return t&&t.__esModule?t:{default:t}}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=function(t){function e(t,n,o){var i;return u(this,e),(i=c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))).addActions([new r.default(i,i.actor,i.config),i.target.behaviours.interact.getAction(i)]),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,t),e}(o.default);e.default=s,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n(0)),r=i(n(8));function i(t){return t&&t.__esModule?t:{default:t}}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=function(t){function e(t,n,o){var i;return u(this,e),(i=c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))).addActions([new r.default(i,i.actor,i.config),i.target.behaviours.observe.getAction(i)]),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,t),e}(o.default);e.default=s,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=a(n(0)),r=a(n(8)),i=a(n(38));function a(t){return t&&t.__esModule?t:{default:t}}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=function(t){function e(t,n,a){var u;return c(this,e),(u=f(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))).addActions([new r.default(u,u.actor,u.config),new o.default.BaseAction(u,(function(){Math.abs(u.actor.x-u.target.x)>i.default.MICRO_MOVEMENT_RADIUS?(u.actor.x<u.target.x?(u.actor.anims.play("run"),u.actor.body.setVelocity(i.default.RUN_VELOCITY)):u.actor.x>u.target.x&&(u.actor.anims.play("run"),u.actor.body.setVelocity(-i.default.RUN_VELOCITY)),console.log("start to run to ",a.target.x)):u.finish()}),(function(){u.actor.body.setVelocity(0)}),(function(){(u.actor.x-u.target.x)*u.actor.body.velocity.x>0&&u.finish()}))]),u}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,t),e}(o.default);e.default=l,t.exports=e.default},function(t,e){t.exports={RUN_VELOCITY:240,MICRO_MOVEMENT_RADIUS:20}},function(t,e){t.exports={EXAMINABLE:"EXAMINABLE",INERT:"INERT",INTERACTIVE:"INTERACTIVE",TALKABLE:"TALKABLE",INVENTORY:"INVENTORY",DEFAULT_MIN_LIGHT_LEVEL_TO_OBSERVE:.05,DEFAULT_OBSERVE_TEXT:"Observe default text",DEFAULT_NO_LIGHT_OBSERVE_TEXT:"NoLightObserve default text",DEFAULT_MIN_LIGHT_LEVEL_TO_EXAMINE_OR_INTERACT:.04,DEFAULT_EXAMINE_OR_INTERACT_TEXT:"ExamineOrInteract default text",DEFAULT_NO_LIGHT_EXAMINE_OR_INTERACT_TEXT:"NoLightExamineOrInteract default text"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n(9)),r=i(n(0));function i(t){return t&&t.__esModule?t:{default:t}}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function c(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,t),n=e,(o=[{key:"getAction",value:function(t){var e=this;return new r.default.BaseAction(t,(function(){e.checkLight(e.gameObject.minLightLevelToExamineOrInteract)?console.log(e.gameObject.examineOrInteractText):console.log(e.gameObject.noLightExamineOrInteractText),t.finish()}))}}])&&u(n.prototype,o),i&&u(n,i),e}(o.default);e.default=s,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n(9)),r=i(n(0));function i(t){return t&&t.__esModule?t:{default:t}}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function c(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,t),n=e,(o=[{key:"getAction",value:function(t){var e=this;return new r.default.BaseAction(t,(function(){e.checkLight(e.gameObject.minLightLevelToExamineOrInteract)?console.log(e.gameObject.examineOrInteractText):console.log(e.gameObject.noLightExamineOrInteractText),t.finish()}))}}])&&u(n.prototype,o),i&&u(n,i),e}(o.default);e.default=s,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=a(n(9)),r=a(n(7)),i=a(n(43));function a(t){return t&&t.__esModule?t:{default:t}}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function f(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t,e,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var y=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)))._timer,n}var n,o,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(e,t),n=e,(o=[{key:"add",value:function(){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"add",this).call(this),this.gameObject.on("pointerover",function(t){var e=this;this.cursors.setCursor(this.gameObject),this._timer=this.gameObject.room.time.addEvent({delay:i.default.DEFAULT_MIN_TIME_TO_OBSERVE,callback:function(){e.gameObject===e.room.player||e.room.player.isBlocked||e.room.player.actions.add(r.default.Observe,{target:e.gameObject})},callbackScope:this})}.bind(this)),this.gameObject.on("pointerout",function(t){this._timer.remove(!1),this.cursors.setCursor()}.bind(this))}},{key:"abort",value:function(){this._timer.remove(!1)}},{key:"getAction",value:function(t){var e=this;return new r.default.Action.BaseAction(t,(function(){e.checkLight(e.gameObject.minLightLevelToObserve)?console.log(e.gameObject.observeText):console.log(e.gameObject.noLightObserveText),t.finish()}))}}])&&c(n.prototype,o),a&&c(n,a),e}(o.default);e.default=y,t.exports=e.default},function(t,e){t.exports={DEFAULT_MIN_TIME_TO_OBSERVE:1200}},function(t,e){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},t.exports=e.default},function(t,e,n){var o={HardFlickering:n(20),HardFlickeringAndTrembling:n(47),LightEffect:n(2),RadiusFlickering:n(48),SoftFlickering:n(21),SoftFlickeringAndTrembling:n(49),Trembling:n(15)};t.exports=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=a(n(2)),r=a(n(20)),i=a(n(15));function a(t){return t&&t.__esModule?t:{default:t}}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function f(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t,e,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var y=function(t){function e(t,n){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(o=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,.5))).hardFlickering=new r.default(o.invoker,o.config),o.trembling=new i.default(o.invoker,o.config),o}var n,o,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(e,t),n=e,(o=[{key:"play",value:function(){var t=this;s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"play",this).call(this,(function(){t.hardFlickering.play(),t.trembling.play()}))}},{key:"stop",value:function(){var t=this;s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"stop",this).call(this,(function(){t.hardFlickering.stop(),t.trembling.stop()}))}}])&&c(n.prototype,o),a&&c(n,a),e}(o.default);e.default=y,t.exports=e.default},function(t,e,n){"use strict";var o;function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function a(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=function(t){function e(t,n){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(o=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,.9))).config.minTime||(o.config.minTime=10),o.config.maxTime||(o.config.maxTime=100),o.config.minPercentageIntensity||(o.config.minPercentageIntensity=.8),o.config.maxPercentageIntensity||(o.config.maxPercentageIntensity=1),o.config.minPercentageRadius||(o.config.minPercentageRadius=.8),o.config.maxPercentageRadius||(o.config.maxPercentageRadius=1),o.config.backToInitialIntensity||(o.config.backToInitialIntensity=!0),o.config.backToInitialRadius||(o.config.backToInitialRadius=!0),o}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,t),n=e,(o=[{key:"play",value:function(){var t=this;u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"play",this).call(this,(function(){!function e(){t.gameObject.room.time.addEvent({delay:Math.floor(Math.random()*(t.config.maxTime-t.config.minTime))+t.config.minTime,callback:function(){if(!t.stopped){var n=Math.floor(100*(t.config.minPercentageIntensity+Math.random()*(t.config.maxPercentageIntensity-t.config.minPercentageIntensity))+1)/100;t.gameObject.graphicLight.setIntensity(t.gameObject.config.graphicLight.intensity*n),t.gameObject.diffusedLight.setIntensity(t.gameObject.config.diffusedLight.intensity*n);var o=Math.floor(100*(t.config.minPercentageRadius+Math.random()*(t.config.maxPercentageRadius-t.config.minPercentageRadius))+1)/100;t.gameObject.graphicLight.setRadius(t.gameObject.config.graphicLight.radius*o),e()}},callbackScope:t,repeat:0})}()}))}},{key:"stop",value:function(){var t=this;u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"stop",this).call(this,(function(){t.config.backToInitialIntensity?(t.gameObject.graphicLight.setIntensity(t.gameObject.config.graphicLight.intensity),t.gameObject.diffusedLight.setIntensity(t.gameObject.config.diffusedLight.intensity)):(t.gameObject.config.graphicLight.intensity=t.gameObject.graphicLight.intensity,t.gameObject.config.diffusedLight.intensity=t.gameObject.diffusedLight.intensity),t.config.backToInitialRadius?t.gameObject.graphicLight.setRadius(t.gameObject.config.graphicLight.radius):t.gameObject.config.graphicLight.radius=t.gameObject.graphicLight.radius}))}}])&&i(n.prototype,o),r&&i(n,r),e}(((o=n(2))&&o.__esModule?o:{default:o}).default);e.default=s,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=a(n(2)),r=a(n(21)),i=a(n(15));function a(t){return t&&t.__esModule?t:{default:t}}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function f(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t,e,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var y=function(t){function e(t,n){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(o=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,.5))).softFlickering=new r.default(o.invoker,o.config),o.trembling=new i.default(o.invoker,o.config),o}var n,o,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(e,t),n=e,(o=[{key:"play",value:function(){var t=this;s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"play",this).call(this,(function(){t.softFlickering.play(),t.trembling.play()}))}},{key:"stop",value:function(){var t=this;s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"stop",this).call(this,(function(){t.softFlickering.stop(),t.trembling.stop()}))}}])&&c(n.prototype,o),a&&c(n,a),e}(o.default);e.default=y,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=l(n(3)),r=l(n(51)),i=l(n(23)),a=l(n(24)),u=l(n(25)),c=l(n(59)),f=l(n(1)),s=l(n(60));function l(t){return t&&t.__esModule?t:{default:t}}function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var h=function(){function t(e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.config=e,this._setScreenConfig(),this._setPhysicsConfig(),this._setPlugins(),this._setBoot(),this._setHeaderProps(),this._finalizeConfig(),o.default.STARTING_ROOM=this.config.startingRoom,o.default.GAME_SPRITES=this._setGameSprites(f.default.Utils.Objects.Clone(this.config.sprites)),o.default.GAME=new f.default.Game(this.config),(0,r.default)(o.default.GAME),o.default.GAME}var e,n,l;return e=t,(n=[{key:"_setScreenConfig",value:function(){o.default.SCREEN_PROPS=i.default.getScreenProps(),this.config.width=o.default.SCREEN_PROPS.calculatedWidth,this.config.height=o.default.SCREEN_PROPS.calculatedHeight,this.config.zoom=o.default.SCREEN_PROPS.calculatedZoom,this.config.autoResize=!1,this.config.backgroundColor="#000000",this.config.pixelArt=!0}},{key:"_setPhysicsConfig",value:function(){this.config.physics={default:"arcade",arcade:{debug:!1,gravity:{y:0,x:0}}}}},{key:"_setPlugins",value:function(){this.config.plugins={global:[{key:"RoomSystem",plugin:u.default.RoomSystem,start:!1,mapping:"rooms"},{key:"CursorSystem",plugin:u.default.CursorSystem,start:!1,mapping:"cursors"}],scene:[{key:"UpdateManager",plugin:a.default.UpdateManager,mapping:"updates"},{key:"LightSourceManager",plugin:a.default.LightSourceManager,mapping:"lightSources"},{key:"LayerManager",plugin:a.default.LayerManager,mapping:"layers"}]}}},{key:"_setBoot",value:function(){this.config.scene=[c.default]}},{key:"_setHeaderProps",value:function(){this.config.banner=!1}},{key:"_setGameSprites",value:function(t){if(r=!1,Object.keys((0,s.default)(t,(function(t,e){return"object"==p(e)&&"function"!=typeof e.default&&Object.keys(e).length>0}))).length>0&&(r=!0),r){var e=(0,s.default)(t,(function(t,e){return"object"==p(e)&&"function"!=typeof e.default})),n=function(t){var e=[];for(var n in t)e.push(t[n]);return e}(e);for(var o in n.forEach((function(e){t=f.default.Utils.Objects.Extend(!1,t,e)})),e)delete t[o];return this._setGameSprites(t)}var r;return t}},{key:"_finalizeConfig",value:function(){this.config.type=f.default.WEBGL,this.config.maxLights=20,this.config.parent="game",this.config.disableContextMenu=!0}}])&&y(e.prototype,n),l&&y(e,l),t}();e.default=h,t.exports=e.default},function(t,e,n){
/**
 * @author       Francesco Negri <francesco.negri@outlook.com>
 * @copyright    2019 The Darkest Light
 * @license      {@link https://github.com/FrancescoNegri/TheDarkestLib/blob/master/LICENSE|MIT License}
 */
var o=n(5),r=n(3);t.exports=function(t){var e=t.config;e.bannerBackgroundColor="#0002e6",e.bannerTextColor="#ffffff",e.hidePhaser=!1;var n="WebGL";2!==e.renderType&&(n="NULL");var i,a=e.audio,u=t.device.audio;if(i=!u.webAudio||a&&a.disableWebAudio?a&&a.noAudio||!u.webAudio&&!u.audioData?"No Audio":"HTML5 Audio":"Web Audio",!t.device.browser.ie){var c,f="",s=[f];if(Array.isArray(e.bannerBackgroundColor))e.bannerBackgroundColor.forEach((function(t){f=f.concat("%c "),s.push("background: "+t),c=t})),s[s.length-1]="color: "+e.bannerTextColor+"; background: "+c;else f=f.concat("%c "),s.push("color: "+e.bannerTextColor+"; background: "+e.bannerBackgroundColor);s.push("background: #fff"),e.gameTitle&&(f=f.concat(e.gameTitle),e.gameVersion&&(f=f.concat(" v"+e.gameVersion)),e.hidePhaser||(f=f.concat(" / "))),e.hidePhaser||(f=(f=f.concat("TDLib v"+o.VERSION+" / Phaser v"+o.PHASER_VERSION)).concat(" ("+n+" | "+i+" | "+r.DEVICE+")")),f=f.concat(" %c "+e.gameURL),s[0]=f,console.log.apply(console,s)}}},function(t,e,n){"use strict";var o,r=(o=n(3))&&o.__esModule?o:{default:o};t.exports=function(){var t={};return"MOBILE"===r.default.DEVICE?(t.availHeight=window.innerHeight,t.availWidth=window.innerWidth,t.calculatedZoom=Math.floor(t.availHeight/((r.default.ROOM_HEIGHT_IN_TILE+r.default.INVENTORY_HEIGHT_IN_TILES_MOBILE+2*r.default.ROOM_FRAME_IN_TILES_MOBILE)*r.default.TILE_SIZE)*100)/100):(t.availHeight=screen.height,t.availWidth=screen.width,t.calculatedZoom=Math.floor(t.availHeight/((r.default.ROOM_HEIGHT_IN_TILE+r.default.INVENTORY_HEIGHT_IN_TILES_DESKTOP+2*r.default.ROOM_FRAME_IN_TILES_DESKTOP)*r.default.TILE_SIZE)*100)/100),console.log("ZOOM: "+t.calculatedZoom),t.calculatedHeight=Math.ceil(t.availHeight/t.calculatedZoom),t.calculatedWidth=Math.ceil(t.availWidth/t.calculatedZoom),console.log("AVAIL-H: "+t.availHeight+"\nCALC-H: "+t.calculatedHeight),console.log("AVAIL-W: "+t.availWidth+"\nCALC-W: "+t.calculatedWidth),t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n(12)),r=i(n(54));function i(t){return t&&t.__esModule?t:{default:t}}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function c(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t,e,n){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=s(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var p=function(t){function e(t,n){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(o=c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))).layerSize=r.default.layerSize,o.strartingDepth=r.default.startingDepth,o}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,t),n=e,(o=[{key:"boot",value:function(){f(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"boot",this).call(this),this.backgroundLayer=this.room.add.group(),this.rearDoorsLayer=this.room.add.group(),this.wallFurnitureLayer=this.room.add.group(),this.roomFurnitureLayer=this.room.add.group(),this.sideDoorsLayer=this.room.add.group(),this.npcLayer=this.room.add.group(),this.playerLayer=this.room.add.group(),this.cielingObjectsLayer=this.room.add.group(),this.frontDoorsLayer=this.room.add.group(),this.wallsLayer=this.room.add.group(),this.wallsMaskLayer=this.room.add.group(),this.overallDarknessLayer=this.room.add.group(),this.borderMasksLayer=this.room.add.group()}},{key:"setLayersDepth",value:function(){var t=this.strartingDepth;this.backgroundLayer.setDepth(this.layerSize*t),t++,this.rearDoorsLayer.setDepth(this.layerSize*t),t++,this.wallFurnitureLayer.setDepth(this.layerSize*t),t++,this.roomFurnitureLayer.setDepth(this.layerSize*t),t++,this.sideDoorsLayer.setDepth(this.layerSize*t),t++,this.npcLayer.setDepth(this.layerSize*t),t++,this.playerLayer.setDepth(this.layerSize*t),t++,this.cielingObjectsLayer.setDepth(this.layerSize*t),t++,this.frontDoorsLayer.setDepth(this.layerSize*t),t++,this.wallsLayer.setDepth(this.layerSize*t),t++,this.wallsMaskLayer.setDepth(this.layerSize*t),t++,this.overallDarknessLayer.setDepth(this.layerSize*t),t++,this.borderMasksLayer.setDepth(this.layerSize*t),t++}}])&&u(n.prototype,o),i&&u(n,i),e}(o.default);e.default=p,t.exports=e.default},function(t,e){t.exports={layerSize:10,startingDepth:0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n(12)),r=i(n(3));function i(t){return t&&t.__esModule?t:{default:t}}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function c(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t,e,n){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=s(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var p=function(t){function e(t,n){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(o=c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))).graphicLights=[],o.diffusedLights=[],o}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,t),n=e,(o=[{key:"boot",value:function(){f(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"boot",this).call(this),this.lightSources=this.room.add.group()}},{key:"add",value:function(t){return this.lightSources.add(t,!0),this.lightSources.getChildren().forEach((function(t){t.setPipeline("Light2D")})),t}},{key:"calculateLightsContribuitePoint",value:function(t){var e=0;return this.lightSources.getChildren().forEach((function(n){if(n.isOn){var o=n.config.diffusedLight.intensity/(2^Math.abs(n.x+n.config.offset.x-t.x));n.effects.currentEffect&&(o*=n.effects.currentEffect.contributeFactor),e+=o}})),Math.floor(1e4*e)/1e3}},{key:"calculateAverageLightsContribute",value:function(){var t=0;this.diffusedLights.forEach((function(e){t+=e.intensity}));var e=0;return 0!==t&&(e=Math.floor(1e4*t/this.room.layers.wallsLayer.width/r.default.TILE_SIZE*100)/100+.3),e}}])&&u(n.prototype,o),i&&u(n,i),e}(o.default);e.default=p,t.exports=e.default},function(t,e,n){"use strict";var o;function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function a(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=function(t){function e(t,n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,t),n=e,(o=[{key:"boot",value:function(){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"boot",this).call(this);var t=this.systems.events;this.gameObjects=new Phaser.Structs.Set,t.on("update",this._sceneUpdate,this),t.on("shutdown",this._sceneShutdown,this),t.once("destroy",this._sceneDestroy,this)}},{key:"_sceneUpdate",value:function(t,e){this.gameObjects.iterateLocal("update",t,e)}},{key:"_sceneShutdown",value:function(){this.gameObjects.clear()}},{key:"_sceneDestroy",value:function(){var t=this.systems.events;t.off("update",this._scenePostUpdate,this),t.off("shutdown",this._sceneShutdown,this),t.off("destroy",this._sceneDestroy,this),this.gameObjects=null,this.scene=null,this.systems=null}},{key:"add",value:function(t){t.once("destroy",this.remove,this),this.gameObjects.set(t)}},{key:"addMultiple",value:function(t){t.forEach(this.add,this)}},{key:"remove",value:function(t){t.off("destroy",this.remove,this),this.gameObjects.delete(t)}}])&&i(n.prototype,o),r&&i(n,r),e}(((o=n(12))&&o.__esModule?o:{default:o}).default);e.default=s,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=a(n(7)),r=a(n(4)),i=a(n(1));function a(t){return t&&t.__esModule?t:{default:t}}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function s(t,e,n){return e&&f(t.prototype,e),n&&f(t,n),t}function l(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var h=function(t){function e(t){var n;return c(this,e),(n=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))).cursorScene,n.sceneManager,n.lastTarget,n}return p(e,t),s(e,[{key:"configure",value:function(t){this.sceneManager=t,this.cursorScene=this.sceneManager.add(e.CURSOR_SCENE_KEY,e.CursorScene,!0)}},{key:"pointerDown",value:function(t){if(!t.isBlocked)switch(this.cursorScene.cursor.texture.key){case e.DEFAULT_CURSOR:void 0!==t.room.input.activePointer.camera&&t.actions.add(o.default.WalkTo,{target:{x:t.room.input.activePointer.worldX}});break;case e.EXAMINABLE_CURSOR:this.lastTarget.behaviours.observe.abort(),t.actions.add(o.default.Examine,{target:this.lastTarget});break;case e.INTERACTIVE_CURSOR:this.lastTarget.behaviours.observe.abort(),t.actions.add(o.default.Interact,{target:this.lastTarget});break;case e.TALKABLE_CURSOR:t.actions.add(o.default.TalkTo,{target:this.lastTarget})}}},{key:"setCursor",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{behaviours:{type:r.default.INERT},room:{}};if("room"in t&&t!==t.room.player){switch(t.behaviours.type){case r.default.INERT:this.cursorScene.cursor.setTexture(e.DEFAULT_CURSOR).setOrigin(.4,.33);break;case r.default.EXAMINABLE:this.cursorScene.cursor.setTexture(e.EXAMINABLE_CURSOR).setOrigin(.33,.29);break;case r.default.INTERACTIVE:this.cursorScene.cursor.setTexture(e.INTERACTIVE_CURSOR).setOrigin(.4,.33);break;case r.default.TALKABLE:this.cursorScene.cursor.setTexture(e.TALKABLE_CURSOR)}this.lastTarget=t}}},{key:"showCursor",value:function(){this.cursorScene.cursor.setVisible(!0)}},{key:"hideCursor",value:function(){this.cursorScene.cursor.setVisible(!1)}}],[{key:"CursorScene",get:function(){return function(t){function n(){var t;return c(this,n),(t=l(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e.CURSOR_SCENE_KEY))).cursor,t}return p(n,t),s(n,[{key:"preload",value:function(){this.load.image(e.EXAMINABLE_CURSOR,"assets/Cursors/CursorExamine.png"),this.load.image(e.HOLD_CURSOR,"assets/Cursors/CursorHold.png"),this.load.image(e.INTERACTIVE_CURSOR,"assets/Cursors/CursorInteract.png"),this.load.image(e.DEFAULT_CURSOR,"assets/Cursors/CursorMove.png"),this.load.image(e.TALKABLE_CURSOR,"assets/Cursors/CursorTalk.png"),this.load.image(e.CHOICE_CURSOR,"assets/Cursors/CursorChoice.png"),this.load.image(e.CHOICE_PRESSED_CURSOR,"assets/Cursors/CursorChoicePressed.png")}},{key:"create",value:function(){this.input.setDefaultCursor("none"),this.cursor=this.add.image(0,0,e.DEFAULT_CURSOR).setOrigin(.4,.33).setDepth(1e5)}},{key:"update",value:function(){this.cursor.setPosition(this.input.activePointer.x,this.input.activePointer.y)}}]),n}(i.default.Scene)}},{key:"CURSOR_SCENE_KEY",get:function(){return"CursorScene"}},{key:"DEFAULT_CURSOR",get:function(){return"cursorMove"}},{key:"EXAMINABLE_CURSOR",get:function(){return"cursorExamine"}},{key:"INTERACTIVE_CURSOR",get:function(){return"cursorInteract"}},{key:"HOLD_CURSOR",get:function(){return"cursorHold"}},{key:"TALKABLE_CURSOR",get:function(){return"cursorTalk"}},{key:"CHOICE_CURSOR",get:function(){return"cursorChoice"}},{key:"CHOICE_PRESSED_CURSOR",get:function(){return"cursorChoicePressed"}}]),e}(i.default.Plugins.BasePlugin);e.default=h,t.exports=e.default},function(t,e,n){"use strict";var o;function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function a(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))).sceneManager={},n.currentRoom=null,n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,t),n=e,(o=[{key:"start",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&(console.log("Starting room:",t.name),this.currentRoom&&this.sceneManager.remove(this.currentRoom.name),t.name in this.sceneManager.keys?this.sceneManager.start(t.name):this.sceneManager.add(t.name,t,e),this.currentRoom=t)}},{key:"configure",value:function(t){this.sceneManager=t}}])&&i(n.prototype,o),r&&i(n,r),e}(((o=n(1))&&o.__esModule?o:{default:o}).default.Plugins.BasePlugin);e.default=c,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n(1)),r=i(n(3));function i(t){return t&&t.__esModule?t:{default:t}}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function c(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"Boot"))}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,t),n=e,(o=[{key:"preload",value:function(){}},{key:"create",value:function(){console.log("Booting all game systems..."),this.cursors.configure(r.default.GAME.scene),this.rooms.configure(r.default.GAME.scene),this.rooms.start(r.default.STARTING_ROOM)}}])&&u(n.prototype,o),i&&u(n,i),e}(o.default.Scene);e.default=s,t.exports=e.default},function(t,e,n){"use strict";t.exports=function(t,e){for(var n={},o=Object.keys(t),r=Array.isArray(e),i=0;i<o.length;i++){var a=o[i],u=t[a];(r?-1!==e.indexOf(a):e(a,u,t))&&(n[a]=u)}return n}},function(t,e,n){var o={Room:n(62)};t.exports=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n(3)),r=i(n(63));function i(t){return t&&t.__esModule?t:{default:t}}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function c(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=function(t){function e(t,n){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(o=c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))).assets={raw:n,array:[]},o.averageLightsContribute,o.cursors,o.layers,o.map,o.name=o.constructor.name,o.player,o.rooms,o}var n,i,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,t),n=e,(i=[{key:"preload",value:function(){var t=this;this._scrapeAssets(),this.assets.array.forEach((function(e){"nPath"in e?t.load[e.type](e.key,[e.path,e.nPath]):"bPath"in e?(t.load[e.type](e.key,e.path),t.load[e.type](e.key+"_b",e.bPath)):t.load[e.type](e.key,e.path)})),this.load.image("top-border-mask-camera","assets/Masks/topMaskCamera.png"),this.load.image("bottom-border-mask-camera","assets/Masks/bottomMaskCamera.png"),this.load.image("left-border-mask-camera","assets/Masks/leftMaskCamera.png"),this.load.image("right-border-mask-camera","assets/Masks/rightMaskCamera.png")}},{key:"_scrapeAssets",value:function(){var t=this;for(var e in this.assets.raw)r.default.scrapeComplexObjKey(this.assets.raw[e],{type:e},"path",(function(e,n){e.type=n.type,e.key=r.default.findFileNameFromPath(e.path),t.assets.array.push(e)}))}},{key:"create",value:function(t){this.player=t.setName("player"),this.lights.enable(),this.scene.bringToTop("CursorScene"),this._setCameraViewport(),this._createRoom(),this._createSprites(),this._applyBorderMasks(),this.layers.setLayersDepth(),this.cameras.main.setBounds(0,0,this.layers.wallsLayer.width,this.layers.wallsLayer.height),this.cameras.main.startFollow(this.player),this.cameras.main.setRoundPixels(!0),this.physics.world.setBounds(o.default.TILE_SIZE,o.default.TILE_SIZE,this.layers.wallsLayer.width-2*o.default.TILE_SIZE,this.layers.wallsLayer.height-2*o.default.TILE_SIZE)}},{key:"_setCameraViewport",value:function(){"MOBILE"===o.default.DEVICE?(this.cameras.main.setPosition((o.default.ROOM_FRAME_IN_TILES_MOBILE+o.default.INVENTORY_WIDTH_IN_TILES_MOBILE)*o.default.TILE_SIZE,(o.default.ROOM_FRAME_IN_TILES_MOBILE+o.default.INVENTORY_HEIGHT_IN_TILES_MOBILE)*o.default.TILE_SIZE),this.cameras.main.setSize(o.default.SCREEN_PROPS.calculatedWidth-2*(o.default.ROOM_FRAME_IN_TILES_MOBILE+o.default.INVENTORY_WIDTH_IN_TILES_MOBILE)*o.default.TILE_SIZE,o.default.ROOM_HEIGHT_IN_TILE*o.default.TILE_SIZE)):(this.cameras.main.setPosition(o.default.ROOM_FRAME_IN_TILES_DESKTOP*o.default.TILE_SIZE,o.default.ROOM_FRAME_IN_TILES_DESKTOP*o.default.TILE_SIZE),this.cameras.main.setSize(o.default.SCREEN_PROPS.calculatedWidth-2*o.default.ROOM_FRAME_IN_TILES_DESKTOP*o.default.TILE_SIZE,o.default.ROOM_HEIGHT_IN_TILE*o.default.TILE_SIZE))}},{key:"_createRoom",value:function(){this.map=this.make.tilemap({key:r.default.findFileNameFromPath(this.assets.raw.tilemapTiledJSON.path),tileWidth:o.default.TILE_SIZE,tileHeight:o.default.TILE_SIZE}),this.layers.backgroundLayer=this.map.createDynamicLayer("backgroundLayer",this.map.addTilesetImage(r.default.findFileNameFromPath(this.assets.raw.image.tiles.background.path)),0,0).setPipeline("Light2D"),this.layers.wallsLayer=this.map.createDynamicLayer("wallsLayer",this.map.addTilesetImage(r.default.findFileNameFromPath(this.assets.raw.image.tiles.walls.path)),0,0),this.layers.wallsMaskLayer=this.map.createDynamicLayer("wallsMaskLayer",this.map.addTilesetImage(r.default.findFileNameFromPath(this.assets.raw.image.tiles.walls.bPath)),0,0)}},{key:"_createSprites",value:function(){var t=this,e=this;this.map.objects.forEach((function(n){n.objects.forEach((function(n){t[n.name]=new o.default.GAME_SPRITES[n.type].default(e,n.x+n.width/2,n.y-n.height/2),t[n.name].setName(n.name)}))}))}},{key:"_applyBorderMasks",value:function(){this.layers.borderMasksLayer.create(0,0,"top-border-mask-camera").setScrollFactor(0).setOrigin(0,0),this.layers.borderMasksLayer.create(0,0,"left-border-mask-camera").setScrollFactor(0).setOrigin(0,0),this.layers.borderMasksLayer.create(this.cameras.main.width-o.default.TILE_SIZE,0,"right-border-mask-camera").setScrollFactor(0).setOrigin(0,0),this.layers.borderMasksLayer.create(0,this.cameras.main.height-o.default.TILE_SIZE,"bottom-border-mask-camera").setScrollFactor(0).setOrigin(0,0)}},{key:"update",value:function(){this._updateMasksByLightDiffusion(),this.children.list.forEach((function(t){"actions"in t&&t.actions._update()}))}},{key:"_updateMasksByLightDiffusion",value:function(){this.averageLightsContribute=this.lightSources.calculateAverageLightsContribute(),this.layers.wallsMaskLayer.setAlpha(1-this.averageLightsContribute)}}])&&u(n.prototype,i),a&&u(n,a),e}(i(n(1)).default.Scene);e.default=s,t.exports=e.default},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o={scrapeComplexObjKey:function(t,e,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)o.scrapeComplexObjKey(t[a],e,r,i);else if(null!==t&&"object"===n(t))if(r in t)i(t,e);else for(var u in t)o.scrapeComplexObjKey(t[u],e,r,i)},findFileNameFromPath:function(t){var e=t.lastIndexOf("/")+1,n=t.lastIndexOf(".");return-1===e&&(e=0),-1===n?-1:t.slice(e,n)}};t.exports=o},function(t,e,n){var o={Actions:n(7),Behaviours:n(4),Characters:n(65),Effects:n(18),InventoryItems:n(68),WorldItems:n(70),Sprite:n(11)};t.exports=o},function(t,e,n){var o={NPCharacter:n(66),Player:n(67)};t.exports=o},function(t,e,n){"use strict";var o;function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=function(t){function e(t,n,o,r,a){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,o,r,a))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(e,t),e}(((o=n(26))&&o.__esModule?o:{default:o}).default);e.default=u,t.exports=e.default},function(t,e,n){"use strict";var o;function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function a(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=function(t){function e(t,n,o,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,o,r,"playerLayer"))).isBlocked=!1,i}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,t),n=e,(o=[{key:"create",value:function(){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"create",this).call(this),this.room.input.on("pointerdown",(function(t){this.room.cursors.pointerDown(this)}),this)}}])&&i(n.prototype,o),r&&i(n,r),e}(((o=n(26))&&o.__esModule?o:{default:o}).default);e.default=s,t.exports=e.default},function(t,e,n){var o={InventoryItem:n(69)};t.exports=o},function(t,e,n){"use strict";var o;function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function u(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t,e,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=function(t){function e(t,n,o,r,a){var c;return i(this,e),u(this,(c=e.__proto__||Object.getPrototypeOf(e)).call.apply(c,[this].concat(Array.prototype.slice.call(arguments),[!1])))}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,t),n=e,(o=[{key:"create",value:function(){c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"create",this).call(this),this.resetPipeline()}}])&&a(n.prototype,o),r&&a(n,r),e}(((o=n(11))&&o.__esModule?o:{default:o}).default);e.default=l,t.exports=e.default},function(t,e,n){var o={WorldItem:n(10),LightSources:n(71),RoomFurnitures:n(72),WallFurnitures:n(74)};t.exports=o},function(t,e,n){var o={LightSource:n(22)};t.exports=o},function(t,e,n){var o={RoomFurniture:n(73)};t.exports=o},function(t,e,n){"use strict";var o;function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=function(t){function e(t,n,o,r,a,u,c,f,s,l,p,y,h,d,b){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,o,r,"roomFurnitureLayer",!0,a,u,c,f,s,l,p,y,h,d,b))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(e,t),e}(((o=n(10))&&o.__esModule?o:{default:o}).default);e.default=u,t.exports=e.default},function(t,e,n){var o={WallFurniture:n(75)};t.exports=o},function(t,e,n){"use strict";var o;function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=function(t){function e(t,n,o,r,a,u,c,f,s,l,p,y,h,d,b){var g;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(g=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,o,r,"wallFurnitureLayer",!0,a,u,c,f,s,l,p,y,h,d,b))).setGravityY(0),g}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(e,t),e}(((o=n(10))&&o.__esModule?o:{default:o}).default);e.default=u,t.exports=e.default}])}));
//# sourceMappingURL=the-darkest-lib.min.js.map