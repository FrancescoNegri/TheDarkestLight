!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("TDLib",[],e):"object"==typeof exports?exports.TDLib=e():t.TDLib=e()}(window,function(){return function(t){var e={};function o(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=17)}([function(t,e,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,e,o){return e&&r(t.prototype,e),o&&r(t,o),t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=function(){function t(e,o){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n(this,t),this.invoker=e,this.name=this.constructor.name,this.actor=o,this.target=r.target,this.config=r,this._queue=[],this.isPaused=!1}return i(t,[{key:"addActions",value:function(t){var e=this;Array.isArray(t)?t.forEach(function(t){e._queue.push(t)}):this._queue.push(t)}},{key:"abort",value:function(){this._queue.length>0&&this._queue[0].abort()}},{key:"start",value:function(){this._queue.length>0&&this._queue[0].start()}},{key:"finish",value:function(){this._queue.length>0&&this._queue[0].finish()}},{key:"remove",value:function(){this._queue.length>0&&this._queue.shift(),this._queue.length<=0?this.invoker.remove():this._queue[0].start()}},{key:"pause",value:function(){this._queue.length>0&&(this._queue[0].pause(),this.isPaused=!0)}},{key:"resume",value:function(){this._queue.length>0&&(this.isPaused=!1,this._queue[0].resume())}},{key:"update",value:function(){this._queue.length>0&&this._queue[0].update()}}],[{key:"BaseAction",get:function(){return function(){function t(e,o){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:o,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:r;n(this,t),this.invoker=e,this.startCallback=o,this.finishCallback=r,this.updateCallback=i,this.resumeCallback=u,this.pauseCallback=a,this.isPaused=!1}return i(t,[{key:"start",value:function(){this.startCallback()}},{key:"finish",value:function(){this.finishCallback(),this.invoker.remove()}},{key:"abort",value:function(){this.finishCallback()}},{key:"resume",value:function(){this.isPaused=!1,this.resumeCallback()}},{key:"pause",value:function(){this.pauseCallback(),this.isPaused=!0}},{key:"update",value:function(){this.updateCallback()}}]),t}()}}]),t}();e.default=u,t.exports=e.default},function(t,e){var o={VERSION:"1.0.0",PHASER_VERSION:Phaser.VERSION,LEFT:"_left",RIGHT:"_right"};t.exports=o},function(t,e,o){"use strict";var n,r=(n=o(29))&&n.__esModule?n:{default:n};var i={Behaviour:o(6),Examinable:o(30),Interactive:o(31),Observable:o(32),Talkable:o(34),Inventory:o(35)};i=Phaser.Utils.Objects.Extend(!1,i,r.default),t.exports=i},function(t,e){t.exports={GAME:"",TILE_SIZE:48,ROOM_HEIGHT_IN_TILE:6,INVENTORY_WIDTH_IN_TILES_MOBILE:1.25,INVENTORY_WIDTH_IN_TILES_DESKTOP:0,INVENTORY_HEIGHT_IN_TILES_MOBILE:0,INVENTORY_HEIGHT_IN_TILES_DESKTOP:1,ROOM_FRAME_IN_TILES_DESKTOP:.5,ROOM_FRAME_IN_TILES_MOBILE:.25,SCREEN_PROPS:{},DEVICE:"Desktop"}},function(t,e,o){var n={Action:o(0),Examine:o(19),FaceTo:o(5),Idle:o(22),Interact:o(23),Observe:o(24),RunTo:o(25),WalkTo:o(9)};t.exports=n},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=u(o(0)),r=u(o(1)),i=u(o(20));function u(t){return t&&t.__esModule?t:{default:t}}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=function(t){function e(t,o,u){var a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(a=c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))).addActions(new n.default.BaseAction(a,function(){Math.abs(a.actor.x-a.target.x)>i.default.MICRO_MOVEMENT_RADIUS&&(a.actor.facing===r.default.RIGHT?a.actor.x>a.target.x&&(a.actor.facing=r.default.LEFT,a.actor.setFlipX(!0)):a.actor.facing===r.default.LEFT&&a.actor.x<a.target.x&&(a.actor.facing=r.default.RIGHT,a.actor.setFlipX(!1))),a.finish()})),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,n.default),e}();e.default=l,t.exports=e.default},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,r=(n=o(0))&&n.__esModule?n:{default:n};function i(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.component=e,this.cursors=this.component.gameObject.room.cursors,this.gameObject=this.component.gameObject,this.room=this.component.gameObject.room,this.add()}var e,o,n;return e=t,(o=[{key:"add",value:function(){null===this.component.pixelPerfect?this.component.gameObject.setInteractive():this.component.gameObject.setInteractive({pixelPerfect:!0,alphaTolerance:this.component.pixelPerfect.alphaTolerance,draggable:!1})}},{key:"getAction",value:function(t){return new r.default.BaseAction(t,function(){console.log("Sono una generica action dei behaviour"),t.finish()})}},{key:"checkLight",value:function(t){return this.room.lightSources.calculateLightsContribuitePoint(this.gameObject)>=t}}])&&i(e.prototype,o),n&&i(e,n),t}();e.default=u,t.exports=e.default},function(t,e,o){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=function(t){function e(t,o){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,o))).room=t,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(e,Phaser.Plugins.ScenePlugin),e}();e.default=u,t.exports=e.default},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(o(2)),r=i(o(10));function i(t){return t&&t.__esModule?t:{default:t}}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function c(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=function(t){function e(t,o,i,u){var a,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,l=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],f=arguments.length>6&&void 0!==arguments[6]?arguments[6]:n.default.INERT,p=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,y=arguments.length>8&&void 0!==arguments[8]?arguments[8]:n.default.DEFAULT_OBSERVE_TEXT,h=arguments.length>9&&void 0!==arguments[9]?arguments[9]:n.default.DEFAULT_EXAMINE_OR_INTERACT_TEXT,d=arguments.length>10&&void 0!==arguments[10]?arguments[10]:null,b=arguments.length>11&&void 0!==arguments[11]?arguments[11]:n.default.DEFAULT_NO_LIGHT_OBSERVE_TEXT,_=arguments.length>12&&void 0!==arguments[12]?arguments[12]:n.default.DEFAULT_NO_LIGHT_EXAMINE_OR_INTERACT_TEXT,m=arguments.length>13&&void 0!==arguments[13]?arguments[13]:0,g=arguments.length>14&&void 0!==arguments[14]?arguments[14]:0,v=arguments.length>15&&void 0!==arguments[15]?arguments[15]:n.default.DEFAULT_MIN_LIGHT_LEVEL_TO_EXAMINE_OR_INTERACT,O=arguments.length>16&&void 0!==arguments[16]?arguments[16]:n.default.DEFAULT_MIN_LIGHT_LEVEL_TO_OBSERVE;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(a=c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,o,i,u))).room=t,a.name,a.key=a.constructor.name+(Math.floor(9e3*Math.random())+1e3),a.type=a.constructor.name,a.behaviour=new r.default.BehaviourComponent(a,f,p),a.observeText=y,a.examineOrInteractText=h,a.blockExamineText=d,a.noLightObserveText=b,a.noLightExamineOrInteractText=_,a.examineOrInteractOffsetX=m,a.examineOrInteractThresholdRadius=g,a.minLightLevelToExamineOrInteract=v,a.minLightLevelToObserve=O,a.room.add.existing(a),a.room.updates.add(a),l&&(a.room.physics.add.existing(a),a.setCollideWorldBounds(!0),a.setGravityY(1e4)),null!=s&&(s in a.room.layers?(a.room.layers[s].add(a),a.room.layers.setLayersDepth()):console.warn("ALERT: layer not found for object",a)),a.create(),a}var o,i,u;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,Phaser.Physics.Arcade.Sprite),o=e,(i=[{key:"create",value:function(){console.log("Created:",this.key,"- Type:",this.type,"- Behaviour:",this.behaviour.type)}},{key:"update",value:function(){}},{key:"setName",value:function(t){return this.name=t,this}},{key:"setHitAreaSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.width,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.height,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.input.hitArea.setSize(t,e),this.input.hitArea.setPosition((this.width-t)/2+o,(this.height-e)/2+n)}}])&&a(o.prototype,i),u&&a(o,u),e}();e.default=l,t.exports=e.default},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=u(o(0)),r=u(o(5)),i=u(o(21));function u(t){return t&&t.__esModule?t:{default:t}}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=function(t){function e(t,o,u){var a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(a=c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))).addActions([new r.default(a,a.actor,a.config),new n.default.BaseAction(a,function(){Math.abs(a.actor.x-a.target.x)>i.default.MICRO_MOVEMENT_RADIUS?a.actor.x<a.target.x?(a.actor.anims.play("walk"),a.actor.body.setVelocity(i.default.WALK_VELOCITY)):a.actor.x>a.target.x&&(a.actor.anims.play("walk"),a.actor.body.setVelocity(-i.default.WALK_VELOCITY)):a.finish()},function(){a.actor.body.setVelocity(0)},function(){(a.actor.x-a.target.x)*a.actor.body.velocity.x>0&&a.finish()})]),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,n.default),e}();e.default=l,t.exports=e.default},function(t,e,o){var n={Component:o(11),ActionComponent:o(27),BehaviourComponent:o(28)};t.exports=n},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.name=this.constructor.name,this.gameObject=e},t.exports=e.default},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,r=(n=o(8))&&n.__esModule?n:{default:n};function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t,e,o){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,o){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=s(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(o):r.value}})(t,e,o||t)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f=function(t){function e(t,o,n,r,i,u,c,s,l,f,p,y,h,d,b,_,m){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,o,n,r,i,u,c,s,l,f,p,y,h,d,b,_,m))}var o,n,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,r.default),o=e,(n=[{key:"create",value:function(){c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"create",this).call(this),this.setPipeline("Light2D")}}])&&u(o.prototype,n),i&&u(o,i),e}();e.default=f,t.exports=e.default},function(t,e,o){var n={getScreenProps:o(38)};t.exports=n},function(t,e,o){var n={LayerManager:o(39),LightSourceManager:o(41),Manager:o(7),UpdateManager:o(42)};t.exports=n},function(t,e,o){var n={CursorSystem:o(43),RoomSystem:o(44)};t.exports=n},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(o(8)),r=a(o(2)),i=a(o(10)),u=a(o(1));function a(t){return t&&t.__esModule?t:{default:t}}function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function l(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t,e,o){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,o){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(o):r.value}})(t,e,o||t)}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var h=function(t){function e(t,o,n,a,c){var s,f;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(f=l(this,(s=e.__proto__||Object.getPrototypeOf(e)).call.apply(s,[this].concat(Array.prototype.slice.call(arguments),[!0,r.default.INTERACTIVE,{alphaTolerance:1}])))).actions=new i.default.ActionComponent(f),f.facing=u.default.RIGHT,f}var o,a,c;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(e,n.default),o=e,(a=[{key:"create",value:function(){f(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"create",this).call(this)}}])&&s(o.prototype,a),c&&s(o,c),e}();e.default=h,t.exports=e.default},function(t,e,o){"use strict";(function(e){var n,r=(n=o(1))&&n.__esModule?n:{default:n};var i={Actions:o(4),Components:o(10),Game:o(36),Managers:o(14),Rooms:o(45),Sprites:o(48),Systems:o(15),Utils:o(13)};i=Phaser.Utils.Objects.Extend(!1,i,r.default),t.exports=i,e.TDLib=i}).call(this,o(18))},function(t,e){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch(t){"object"==typeof window&&(o=window)}t.exports=o},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(o(0)),r=i(o(9));function i(t){return t&&t.__esModule?t:{default:t}}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=function(t){function e(t,o,n){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))).addActions([new r.default(i,i.actor,i.config),i.target.behaviour.examine.getAction(i)]),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,n.default),e}();e.default=s,t.exports=e.default},function(t,e){t.exports={MICRO_MOVEMENT_RADIUS:6}},function(t,e){t.exports={WALK_VELOCITY:100,MICRO_MOVEMENT_RADIUS:20}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(o(0)),r=i(o(1));function i(t){return t&&t.__esModule?t:{default:t}}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=function(t){function e(t,o,i){var u;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(u=a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))).addActions(new n.default.BaseAction(u,function(){switch(u.actor.body.setVelocity(0),u.actor.facing){case r.default.LEFT:case r.default.RIGHT:u.actor.anims.play("idle")}})),u}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,n.default),e}();e.default=s,t.exports=e.default},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(o(0)),r=i(o(9));function i(t){return t&&t.__esModule?t:{default:t}}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=function(t){function e(t,o,n){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))).addActions([new r.default(i,i.actor,i.config),i.target.behaviour.interact.getAction(i)]),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,n.default),e}();e.default=s,t.exports=e.default},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(o(0)),r=i(o(5));function i(t){return t&&t.__esModule?t:{default:t}}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=function(t){function e(t,o,n){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))).addActions([new r.default(i,i.actor,i.config),i.target.behaviour.observe.getAction(i)]),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,n.default),e}();e.default=s,t.exports=e.default},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=u(o(0)),r=u(o(5)),i=u(o(26));function u(t){return t&&t.__esModule?t:{default:t}}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=function(t){function e(t,o,u){var a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(a=c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))).addActions([new r.default(a,a.actor,a.config),new n.default.BaseAction(a,function(){Math.abs(a.actor.x-a.target.x)>i.default.MICRO_MOVEMENT_RADIUS?(a.actor.x<a.target.x?(a.actor.anims.play("run"),a.actor.body.setVelocity(i.default.RUN_VELOCITY)):a.actor.x>a.target.x&&(a.actor.anims.play("run"),a.actor.body.setVelocity(-i.default.RUN_VELOCITY)),console.log("start to run to ",u.target.x)):a.finish()},function(){a.actor.body.setVelocity(0)},function(){(a.actor.x-a.target.x)*a.actor.body.velocity.x>0&&a.finish()})]),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,n.default),e}();e.default=l,t.exports=e.default},function(t,e){t.exports={RUN_VELOCITY:240,MICRO_MOVEMENT_RADIUS:20}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(o(11)),r=i(o(4));function i(t){return t&&t.__esModule?t:{default:t}}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function c(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=function(t){function e(t){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(o=c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))).actor=t,o.defaultAction=new r.default.Idle(o,o.actor),o._queue=[o.defaultAction],o._queue[0].start(),o}var o,i,u;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,n.default),o=e,u=[{key:"DEFAULT_MODE",get:function(){return 0}},{key:"QUEUE_MODE",get:function(){return 1}},{key:"PAUSE_MODE",get:function(){return 2}}],(i=[{key:"add",value:function(t,o){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.DEFAULT_MODE,r=new t(this,this.actor,o);switch(n){case e.DEFAULT_MODE:this._queue[0].abort(),this._queue=[],this._queue.push(r),this._queue[0].start();break;case e.QUEUE_MODE:this._queue.push(r);break;case e.PAUSE_MODE:this._queue[0].pause(),this._queue.unshift(r),this._queue[0].start()}return r}},{key:"remove",value:function(){this._queue.shift(),this._queue.length<=0&&this._queue.push(this.defaultAction),this._queue[0].isPaused?this._queue[0].resume():this._queue[0].start()}},{key:"update",value:function(){this._queue.length<=0?this._queue.push(this.defaultAction):this._queue.length>1&&"Idle"===this._queue[0].name&&(this._queue.shift(),this._queue[0].isPaused?this._queue[0].resume():this._queue[0].start()),this._queue[0].update()}}])&&a(o.prototype,i),u&&a(o,u),e}();e.default=l,t.exports=e.default},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(o(11)),r=i(o(2));function i(t){return t&&t.__esModule?t:{default:t}}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function c(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=function(t){function e(t,o,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))).player,void 0===r.gameObject.room.player?r.player=r.gameObject:r.player=r.gameObject.room.player,r.type=o,r.pixelPerfect=n,r._addBehaviours(),r}var o,i,u;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,n.default),o=e,(i=[{key:"_addBehaviours",value:function(){this.type!==r.default.EXAMINABLE&&this.type!==r.default.INTERACTIVE||(this.observe=new r.default.Observable(this),this.type===r.default.EXAMINABLE?this.examine=new r.default.Examinable(this):this.type===r.default.INTERACTIVE&&(this.interact=new r.default.Interactive(this)))}}])&&a(o.prototype,i),u&&a(o,u),e}();e.default=l,t.exports=e.default},function(t,e){t.exports={EXAMINABLE:"EXAMINABLE",INERT:"INERT",INTERACTIVE:"INTERACTIVE",TALKABLE:"TALKABLE",INVENTORY:"INVENTORY",DEFAULT_MIN_LIGHT_LEVEL_TO_OBSERVE:.05,DEFAULT_OBSERVE_TEXT:"Observe default text",DEFAULT_NO_LIGHT_OBSERVE_TEXT:"NoLightObserve default text",DEFAULT_MIN_LIGHT_LEVEL_TO_EXAMINE_OR_INTERACT:.04,DEFAULT_EXAMINE_OR_INTERACT_TEXT:"ExamineOrInteract default text",DEFAULT_NO_LIGHT_EXAMINE_OR_INTERACT_TEXT:"NoLightExamineOrInteract default text"}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(o(6)),r=i(o(0));function i(t){return t&&t.__esModule?t:{default:t}}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function c(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}var o,i,u;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,n.default),o=e,(i=[{key:"getAction",value:function(t){var e=this;return new r.default.BaseAction(t,function(){e.checkLight(e.gameObject.minLightLevelToExamineOrInteract)?console.log(e.gameObject.examineOrInteractText):console.log(e.gameObject.noLightExamineOrInteractText),t.finish()})}}])&&a(o.prototype,i),u&&a(o,u),e}();e.default=l,t.exports=e.default},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(o(6)),r=i(o(0));function i(t){return t&&t.__esModule?t:{default:t}}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function c(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}var o,i,u;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,n.default),o=e,(i=[{key:"getAction",value:function(t){var e=this;return new r.default.BaseAction(t,function(){e.checkLight(e.gameObject.minLightLevelToExamineOrInteract)?console.log(e.gameObject.examineOrInteractText):console.log(e.gameObject.noLightExamineOrInteractText),t.finish()})}}])&&a(o.prototype,i),u&&a(o,u),e}();e.default=l,t.exports=e.default},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=u(o(6)),r=u(o(4)),i=u(o(33));function u(t){return t&&t.__esModule?t:{default:t}}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t,e,o){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,o){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(o):r.value}})(t,e,o||t)}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var y=function(t){function e(t){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(o=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)))._timer,o}var o,u,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(e,n.default),o=e,(u=[{key:"add",value:function(){l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"add",this).call(this),this.gameObject.on("pointerover",function(t){var e=this;this.cursors.setCursor(this.gameObject),this._timer=this.gameObject.room.time.addEvent({delay:i.default.DEFAULT_MIN_TIME_TO_OBSERVE,callback:function(){e.gameObject===e.room.player||e.room.player.isBlocked||e.room.player.actions.add(r.default.Observe,{target:e.gameObject})},callbackScope:this})}.bind(this)),this.gameObject.on("pointerout",function(t){this._timer.remove(!1),this.cursors.setCursor()}.bind(this))}},{key:"abort",value:function(){this._timer.remove(!1)}},{key:"getAction",value:function(t){var e=this;return new r.default.Action.BaseAction(t,function(){e.checkLight(e.gameObject.minLightLevelToObserve)?console.log(e.gameObject.observeText):console.log(e.gameObject.noLightObserveText),t.finish()})}}])&&c(o.prototype,u),a&&c(o,a),e}();e.default=y,t.exports=e.default},function(t,e){t.exports={DEFAULT_MIN_TIME_TO_OBSERVE:1200}},function(t,e){},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},t.exports=e.default},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=c(o(3)),r=c(o(37)),i=c(o(13)),u=c(o(14)),a=c(o(15));function c(t){return t&&t.__esModule?t:{default:t}}function s(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var l=function(){function t(e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.config=e,this._setScreenConfig(),this._setPhysicsConfig(),this._setPlugins(),this._setBoot(),this._setHeaderProps(),this._finalizeConfig(),n.default.GAME=new Phaser.Game(this.config),(0,r.default)(n.default.GAME),n.default.GAME}var e,o,c;return e=t,(o=[{key:"_setScreenConfig",value:function(){n.default.SCREEN_PROPS=i.default.getScreenProps(),this.config.width=n.default.SCREEN_PROPS.calculatedWidth,this.config.height=n.default.SCREEN_PROPS.calculatedHeight,this.config.zoom=n.default.SCREEN_PROPS.calculatedZoom,this.config.autoResize=!1,this.config.backgroundColor="#000000",this.config.pixelArt=!0}},{key:"_setPhysicsConfig",value:function(){this.config.physics={default:"arcade",arcade:{debug:!1,gravity:{y:0,x:0}}}}},{key:"_setPlugins",value:function(){this.config.plugins={global:[{key:"RoomSystem",plugin:a.default.RoomSystem,start:!1,mapping:"rooms"},{key:"CursorSystem",plugin:a.default.CursorSystem,start:!1,mapping:"cursors"}],scene:[{key:"UpdateManager",plugin:u.default.UpdateManager,mapping:"updates"},{key:"LightSourceManager",plugin:u.default.LightSourceManager,mapping:"lightSources"},{key:"LayerManager",plugin:u.default.LayerManager,mapping:"layers"}]}}},{key:"_setBoot",value:function(){this.config.scene=[Boot]}},{key:"_setHeaderProps",value:function(){this.config.banner=!1}},{key:"_finalizeConfig",value:function(){this.config.type=Phaser.WEBGL,this.config.maxLights=20,this.config.parent="game",this.config.disableContextMenu=!0}}])&&s(e.prototype,o),c&&s(e,c),t}();e.default=l,t.exports=e.default},function(t,e,o){var n=o(1),r=o(3);t.exports=function(t){var e=t.config;e.bannerBackgroundColor="#0002e6",e.bannerTextColor="#ffffff",e.hidePhaser=!1;var o="WebGL";2!==e.renderType&&(o="NULL");var i,u=e.audio,a=t.device.audio;if(i=!a.webAudio||u&&u.disableWebAudio?u&&u.noAudio||!a.webAudio&&!a.audioData?"No Audio":"HTML5 Audio":"Web Audio",!t.device.browser.ie){var c,s="",l=[s];Array.isArray(e.bannerBackgroundColor)?(e.bannerBackgroundColor.forEach(function(t){s=s.concat("%c "),l.push("background: "+t),c=t}),l[l.length-1]="color: "+e.bannerTextColor+"; background: "+c):(s=s.concat("%c "),l.push("color: "+e.bannerTextColor+"; background: "+e.bannerBackgroundColor)),l.push("background: #fff"),e.gameTitle&&(s=s.concat(e.gameTitle),e.gameVersion&&(s=s.concat(" v"+e.gameVersion)),e.hidePhaser||(s=s.concat(" / "))),e.hidePhaser||(s=(s=s.concat("TDLib v"+n.VERSION+" / Phaser v"+n.PHASER_VERSION)).concat(" ("+o+" | "+i+" | "+r.DEVICE+")")),s=s.concat(" %c "+e.gameURL),l[0]=s,console.log.apply(console,l)}}},function(t,e,o){"use strict";var n,r=(n=o(3))&&n.__esModule?n:{default:n};t.exports=function(){var t={};return"MOBILE"===r.default.DEVICE?(t.availHeight=window.innerHeight,t.availWidth=window.innerWidth,t.calculatedZoom=Math.floor(t.availHeight/((r.default.ROOM_HEIGHT_IN_TILE+r.default.INVENTORY_HEIGHT_IN_TILES_MOBILE+2*r.default.ROOM_FRAME_IN_TILES_MOBILE)*r.default.TILE_SIZE)*100)/100):(t.availHeight=screen.height,t.availWidth=screen.width,t.calculatedZoom=Math.floor(t.availHeight/((r.default.ROOM_HEIGHT_IN_TILE+r.default.INVENTORY_HEIGHT_IN_TILES_DESKTOP+2*r.default.ROOM_FRAME_IN_TILES_DESKTOP)*r.default.TILE_SIZE)*100)/100),console.log("ZOOM: "+t.calculatedZoom),t.calculatedHeight=Math.ceil(t.availHeight/t.calculatedZoom),t.calculatedWidth=Math.ceil(t.availWidth/t.calculatedZoom),console.log("AVAIL-H: "+t.availHeight+"\nCALC-H: "+t.calculatedHeight),console.log("AVAIL-W: "+t.availWidth+"\nCALC-W: "+t.calculatedWidth),t}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(o(7)),r=i(o(40));function i(t){return t&&t.__esModule?t:{default:t}}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function c(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=function(t){function e(t,o){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,o))).layerSize=r.default.layerSize,n.strartingDepth=r.default.startingDepth,n}var o,i,u;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,n.default),o=e,(i=[{key:"boot",value:function(){this.backgroundLayer=this.room.add.group(),this.rearDoorsLayer=this.room.add.group(),this.wallFurnitureLayer=this.room.add.group(),this.roomFurnitureLayer=this.room.add.group(),this.sideDoorsLayer=this.room.add.group(),this.npcLayer=this.room.add.group(),this.playerLayer=this.room.add.group(),this.cielingObjectsLayer=this.room.add.group(),this.frontDoorsLayer=this.room.add.group(),this.wallsLayer=this.room.add.group(),this.wallsMaskLayer=this.room.add.group(),this.overallDarknessLayer=this.room.add.group(),this.borderMasksLayer=this.room.add.group()}},{key:"setLayersDepth",value:function(){var t=this.strartingDepth;this.backgroundLayer.setDepth(this.layerSize*t),t++,this.rearDoorsLayer.setDepth(this.layerSize*t),t++,this.wallFurnitureLayer.setDepth(this.layerSize*t),t++,this.roomFurnitureLayer.setDepth(this.layerSize*t),t++,this.sideDoorsLayer.setDepth(this.layerSize*t),t++,this.npcLayer.setDepth(this.layerSize*t),t++,this.playerLayer.setDepth(this.layerSize*t),t++,this.cielingObjectsLayer.setDepth(this.layerSize*t),t++,this.frontDoorsLayer.setDepth(this.layerSize*t),t++,this.wallsLayer.setDepth(this.layerSize*t),t++,this.wallsMaskLayer.setDepth(this.layerSize*t),t++,this.overallDarknessLayer.setDepth(this.layerSize*t),t++,this.borderMasksLayer.setDepth(this.layerSize*t),t++}}])&&a(o.prototype,i),u&&a(o,u),e}();e.default=l,t.exports=e.default},function(t,e){t.exports={layerSize:10,startingDepth:0}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(o(7)),r=i(o(3));function i(t){return t&&t.__esModule?t:{default:t}}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function c(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=function(t){function e(t,o){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,o))).graphicLights=[],n.diffusedLights=[],n}var o,i,u;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,n.default),o=e,(i=[{key:"boot",value:function(){this.lightSources=this.room.add.group()}},{key:"add",value:function(t){return this.lightSources.add(t,!0),this.lightSources.getChildren().forEach(function(t){t.setPipeline("Light2D")}),t}},{key:"calculateLightsContribuitePoint",value:function(t){var e=0;return this.lightSources.getChildren().forEach(function(o){if(o.isOn){var n=o.config.diffusedLight.intensity/(2^Math.abs(o.x+o.config.offset.x-t.x));null!==o.lightBehaviour.runningBehaviour&&(n*=o.lightBehaviour.runningBehaviour.behaviourLightContributeFactor),e+=n}}),Math.floor(1e4*e)/1e3}},{key:"calculateAverageLightsContribute",value:function(){var t=0;this.diffusedLights.forEach(function(e){t+=e.intensity});var e=0;return 0!==t&&(e=Math.floor(1e4*t/this.room.layers.wallsLayer.width/r.default.TILE_SIZE*100)/100+.3),e}}])&&a(o.prototype,i),u&&a(o,u),e}();e.default=l,t.exports=e.default},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,r=(n=o(7))&&n.__esModule?n:{default:n};function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=function(t){function e(t,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,o))}var o,n,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,r.default),o=e,(n=[{key:"boot",value:function(){var t=this.systems.events;this.gameObjects=new Phaser.Structs.Set,t.on("update",this._sceneUpdate,this),t.on("shutdown",this._sceneShutdown,this),t.once("destroy",this._sceneDestroy,this)}},{key:"_sceneUpdate",value:function(t,e){this.gameObjects.iterateLocal("update",t,e)}},{key:"_sceneShutdown",value:function(){this.gameObjects.clear()}},{key:"_sceneDestroy",value:function(){var t=this.systems.events;t.off("update",this._scenePostUpdate,this),t.off("shutdown",this._sceneShutdown,this),t.off("destroy",this._sceneDestroy,this),this.gameObjects=null,this.scene=null,this.systems=null}},{key:"add",value:function(t){t.once("destroy",this.remove,this),this.gameObjects.set(t)}},{key:"addMultiple",value:function(t){t.forEach(this.add,this)}},{key:"remove",value:function(t){t.off("destroy",this.remove,this),this.gameObjects.delete(t)}}])&&u(o.prototype,n),i&&u(o,i),e}();e.default=s,t.exports=e.default},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(o(4)),r=i(o(2));function i(t){return t&&t.__esModule?t:{default:t}}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e,o){return e&&c(t.prototype,e),o&&c(t,o),t}function l(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var y=function(t){function e(t){var o;return a(this,e),(o=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))).cursorScene,o.sceneManager,o.lastTarget,o}return f(e,Phaser.Plugins.BasePlugin),s(e,[{key:"configure",value:function(t){this.sceneManager=t,this.cursorScene=this.sceneManager.add(e.CURSOR_SCENE_KEY,e.CursorScene,!0)}},{key:"pointerDown",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t.isBlocked)switch(this.cursorScene.cursor.texture.key){case e.DEFAULT_CURSOR:void 0!==t.room.input.activePointer.camera&&t.actions.add(n.default.WalkTo,{target:{x:t.room.input.activePointer.worldX}});break;case e.EXAMINABLE_CURSOR:this.lastTarget.behaviour.observe.abort(),t.actions.add(n.default.Examine,{target:this.lastTarget});break;case e.INTERACTIVE_CURSOR:this.lastTarget.behaviour.observe.abort(),t.actions.add(n.default.Interact,{target:this.lastTarget});break;case e.TALKABLE_CURSOR:t.actions.add(n.default.TalkTo,{target:this.lastTarget})}}},{key:"setCursor",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{behaviour:{type:r.default.INERT},room:{}};if("room"in t&&t!==t.room.player){switch(t.behaviour.type){case r.default.INERT:this.cursorScene.cursor.setTexture(e.DEFAULT_CURSOR).setOrigin(.4,.33);break;case r.default.EXAMINABLE:this.cursorScene.cursor.setTexture(e.EXAMINABLE_CURSOR).setOrigin(.33,.29);break;case r.default.INTERACTIVE:this.cursorScene.cursor.setTexture(e.INTERACTIVE_CURSOR).setOrigin(.4,.33);break;case r.default.TALKABLE:this.cursorScene.cursor.setTexture(e.TALKABLE_CURSOR)}this.lastTarget=t}}},{key:"showCursor",value:function(){this.cursorScene.cursor.setVisible(!0)}},{key:"hideCursor",value:function(){this.cursorScene.cursor.setVisible(!1)}}],[{key:"CursorScene",get:function(){return function(t){function o(){var t;return a(this,o),(t=l(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e.CURSOR_SCENE_KEY))).cursor,t}return f(o,Phaser.Scene),s(o,[{key:"preload",value:function(){this.load.image(e.EXAMINABLE_CURSOR,"assets/Cursors/CursorExamine.png"),this.load.image(e.HOLD_CURSOR,"assets/Cursors/CursorHold.png"),this.load.image(e.INTERACTIVE_CURSOR,"assets/Cursors/CursorInteract.png"),this.load.image(e.DEFAULT_CURSOR,"assets/Cursors/CursorMove.png"),this.load.image(e.TALKABLE_CURSOR,"assets/Cursors/CursorTalk.png"),this.load.image(e.CHOICE_CURSOR,"assets/Cursors/CursorChoice.png"),this.load.image(e.CHOICE_PRESSED_CURSOR,"assets/Cursors/CursorChoicePressed.png")}},{key:"create",value:function(){this.input.setDefaultCursor("none"),this.cursor=this.add.image(0,0,e.DEFAULT_CURSOR).setOrigin(.4,.33).setDepth(1e5)}},{key:"update",value:function(){this.cursor.setPosition(this.input.activePointer.x,this.input.activePointer.y)}}]),o}()}},{key:"CURSOR_SCENE_KEY",get:function(){return"CursorScene"}},{key:"DEFAULT_CURSOR",get:function(){return"cursorMove"}},{key:"EXAMINABLE_CURSOR",get:function(){return"cursorExamine"}},{key:"INTERACTIVE_CURSOR",get:function(){return"cursorInteract"}},{key:"HOLD_CURSOR",get:function(){return"cursorHold"}},{key:"TALKABLE_CURSOR",get:function(){return"cursorTalk"}},{key:"CHOICE_CURSOR",get:function(){return"cursorChoice"}},{key:"CHOICE_PRESSED_CURSOR",get:function(){return"cursorChoicePressed"}}]),e}();e.default=y,t.exports=e.default},function(t,e,o){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=function(t){function e(t){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(o=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))).sceneManager={},o}var o,n,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,Phaser.Plugins.BasePlugin),o=e,(n=[{key:"add",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];console.log("Added room:",t.name),this.sceneManager.add(t.name,t,e)}},{key:"configure",value:function(t){this.sceneManager=t}}])&&r(o.prototype,n),a&&r(o,a),e}();e.default=a,t.exports=e.default},function(t,e,o){var n={Room:o(46)};t.exports=n},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _Settings=_interopRequireDefault(__webpack_require__(3)),_Utils=_interopRequireDefault(__webpack_require__(47));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,o){return e&&_defineProperties(t.prototype,e),o&&_defineProperties(t,o),t}function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Room=function(_Phaser$Scene){function Room(t,e){var o;return _classCallCheck(this,Room),(o=_possibleConstructorReturn(this,(Room.__proto__||Object.getPrototypeOf(Room)).call(this,t))).assets={raw:e,array:[]},o.averageLightsContribute,o.cursors,o.layers,o.map,o.name=o.constructor.name,o.player,o.rooms,o}return _inherits(Room,_Phaser$Scene),_createClass(Room,[{key:"preload",value:function(){var t=this;this._scrapeAssets(),this.assets.array.forEach(function(e){"nPath"in e?t.load[e.type](e.key,[e.path,e.nPath]):"bPath"in e?(t.load[e.type](e.key,e.path),t.load[e.type](e.key+"_b",e.bPath)):t.load[e.type](e.key,e.path)}),this.load.image("top-border-mask-camera","assets/Masks/topMaskCamera.png"),this.load.image("bottom-border-mask-camera","assets/Masks/bottomMaskCamera.png"),this.load.image("left-border-mask-camera","assets/Masks/leftMaskCamera.png"),this.load.image("right-border-mask-camera","assets/Masks/rightMaskCamera.png")}},{key:"_scrapeAssets",value:function(){var t=this;for(var e in this.assets.raw)_Utils.default.scrapeComplexObjKey(this.assets.raw[e],{type:e},"path",function(e,o){e.type=o.type,e.key=_Utils.default.findFileNameFromPath(e.path),t.assets.array.push(e)})}},{key:"create",value:function(t){this.player=t.setName("player"),this.lights.enable(),this.scene.bringToTop("CursorScene"),this._setCameraViewport(),this._createRoom(),this._createSprites(),this._applyBorderMasks(),this.layers.setLayersDepth(),this.cameras.main.setBounds(0,0,this.layers.wallsLayer.width,this.layers.wallsLayer.height),this.cameras.main.startFollow(this.player),this.cameras.main.setRoundPixels(!0),this.physics.world.setBounds(_Settings.default.TILE_SIZE,_Settings.default.TILE_SIZE,this.layers.wallsLayer.width-2*_Settings.default.TILE_SIZE,this.layers.wallsLayer.height-2*_Settings.default.TILE_SIZE)}},{key:"_setCameraViewport",value:function(){"MOBILE"===_Settings.default.DEVICE?(this.cameras.main.setPosition((_Settings.default.ROOM_FRAME_IN_TILES_MOBILE+_Settings.default.INVENTORY_WIDTH_IN_TILES_MOBILE)*_Settings.default.TILE_SIZE,(_Settings.default.ROOM_FRAME_IN_TILES_MOBILE+_Settings.default.INVENTORY_HEIGHT_IN_TILES_MOBILE)*_Settings.default.TILE_SIZE),this.cameras.main.setSize(_Settings.default.SCREEN_PROPS.calculatedWidth-2*(_Settings.default.ROOM_FRAME_IN_TILES_MOBILE+_Settings.default.INVENTORY_WIDTH_IN_TILES_MOBILE)*_Settings.default.TILE_SIZE,_Settings.default.ROOM_HEIGHT_IN_TILE*_Settings.default.TILE_SIZE)):(this.cameras.main.setPosition(_Settings.default.ROOM_FRAME_IN_TILES_DESKTOP*_Settings.default.TILE_SIZE,_Settings.default.ROOM_FRAME_IN_TILES_DESKTOP*_Settings.default.TILE_SIZE),this.cameras.main.setSize(_Settings.default.SCREEN_PROPS.calculatedWidth-2*_Settings.default.ROOM_FRAME_IN_TILES_DESKTOP*_Settings.default.TILE_SIZE,_Settings.default.ROOM_HEIGHT_IN_TILE*_Settings.default.TILE_SIZE))}},{key:"_createRoom",value:function(){this.map=this.make.tilemap({key:_Utils.default.findFileNameFromPath(this.assets.raw.tilemapTiledJSON.path),tileWidth:_Settings.default.TILE_SIZE,tileHeight:_Settings.default.TILE_SIZE}),this.layers.backgroundLayer=this.map.createDynamicLayer("backgroundLayer",this.map.addTilesetImage(_Utils.default.findFileNameFromPath(this.assets.raw.image.tiles.background.path)),0,0),this.layers.wallsLayer=this.map.createDynamicLayer("wallsLayer",this.map.addTilesetImage(_Utils.default.findFileNameFromPath(this.assets.raw.image.tiles.walls.path)),0,0),this.layers.wallsMaskLayer=this.map.createDynamicLayer("wallsMaskLayer",this.map.addTilesetImage(_Utils.default.findFileNameFromPath(this.assets.raw.image.tiles.walls.bPath)),0,0)}},{key:"_createSprites",value:function _createSprites(){var _this5=this,_this=this;this.map.objects.forEach(function(layer){layer.objects.forEach(function(element){_this5[element.name]=eval("new "+element.type+"(_this,"+(element.x+element.width/2)+", "+(element.y-element.height/2)+");"),_this5[element.name].setName(element.name)})})}},{key:"_applyBorderMasks",value:function(){this.layers.borderMasksLayer.create(0,0,"top-border-mask-camera").setScrollFactor(0).setOrigin(0,0),this.layers.borderMasksLayer.create(0,0,"left-border-mask-camera").setScrollFactor(0).setOrigin(0,0),this.layers.borderMasksLayer.create(this.cameras.main.width-_Settings.default.TILE_SIZE,0,"right-border-mask-camera").setScrollFactor(0).setOrigin(0,0),this.layers.borderMasksLayer.create(0,this.cameras.main.height-_Settings.default.TILE_SIZE,"bottom-border-mask-camera").setScrollFactor(0).setOrigin(0,0)}},{key:"update",value:function(){this._updateMasksByLightDiffusion(),this.children.list.forEach(function(t){"actions"in t&&t.actions.update()})}},{key:"_updateMasksByLightDiffusion",value:function(){this.averageLightsContribute=this.lightSources.calculateAverageLightsContribute(),this.layers.wallsMaskLayer.setAlpha(1-this.averageLightsContribute)}}]),Room}(Phaser.Scene);exports.default=Room,module.exports=exports.default},function(t,e){function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var n={scrapeComplexObjKey:function(t,e,r,i){if(Array.isArray(t))for(var u=0;u<t.length;u++)n.scrapeComplexObjKey(t[u],e,r,i);else if(null!==t&&"object"===o(t))if(r in t)i(t,e);else for(var a in t)n.scrapeComplexObjKey(t[a],e,r,i)},findFileNameFromPath:function(t){var e=t.lastIndexOf("/")+1,o=t.lastIndexOf(".");return-1===e&&(e=0),-1===o?-1:t.slice(e,o)}};t.exports=n},function(t,e,o){var n={Behaviours:o(2),Characters:o(49),InventoryItems:o(52),WorldItems:o(54),Sprite:o(8)};t.exports=n},function(t,e,o){var n={NPCharacter:o(50),Player:o(51)};t.exports=n},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,r=(n=o(16))&&n.__esModule?n:{default:n};function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t,o,n,r,i){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,o,n,r,i))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(e,r.default),e}();e.default=c,t.exports=e.default},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,r=(n=o(16))&&n.__esModule?n:{default:n};function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t,e,o){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,o){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=s(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(o):r.value}})(t,e,o||t)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f=function(t){function e(t,o,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,o,n,r,"playerLayer"))).isBlocked=!1,i}var o,n,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,r.default),o=e,(n=[{key:"create",value:function(){c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"create",this).call(this),this.room.input.on("pointerdown",function(t){this.room.cursors.pointerDown(this)},this)}}])&&u(o.prototype,n),i&&u(o,i),e}();e.default=f,t.exports=e.default},function(t,e,o){var n={InventoryItem:o(53)};t.exports=n},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,r=(n=o(8))&&n.__esModule?n:{default:n};function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t,e,o){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,o){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=s(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(o):r.value}})(t,e,o||t)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f=function(t){function e(t,o,n,r,i){var u;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,(u=e.__proto__||Object.getPrototypeOf(e)).call.apply(u,[this].concat(Array.prototype.slice.call(arguments),[!1])))}var o,n,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,r.default),o=e,(n=[{key:"create",value:function(){c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"create",this).call(this)}}])&&u(o.prototype,n),i&&u(o,i),e}();e.default=f,t.exports=e.default},function(t,e,o){var n={WorldItem:o(12),LightSources:o(55),RoomFurnitures:o(57),WallFurnitures:o(59)};t.exports=n},function(t,e,o){var n={LightSource:o(56)};t.exports=n},function(t,e){},function(t,e,o){var n={RoomFurniture:o(58)};t.exports=n},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,r=(n=o(12))&&n.__esModule?n:{default:n};function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t,o,n,r,i,a,c,s,l,f,p,y,h,d,b){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,o,n,r,"roomFurnitureLayer",!0,i,a,c,s,l,f,p,y,h,d,b))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(e,r.default),e}();e.default=c,t.exports=e.default},function(t,e,o){var n={WallFurniture:o(60)};t.exports=n},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,r=(n=o(12))&&n.__esModule?n:{default:n};function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t,o,n,r,i,a,c,s,l,f,p,y,h,d,b){var _;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(_=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,o,n,r,"wallFurnitureLayer",!0,i,a,c,s,l,f,p,y,h,d,b))).setGravityY(0),_}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(e,r.default),e}();e.default=c,t.exports=e.default}])});
//# sourceMappingURL=the-darkest-lib.min.js.map